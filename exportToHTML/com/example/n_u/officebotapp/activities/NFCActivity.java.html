<html>
<head>
<title>NFCActivity.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: #2b91af; font-weight: normal; font-style: normal; }
.s0 { color: rgb(0,208,208); }
.s1 { color: rgb(208,208,208); }
.s2 { color: rgb(208,208,208); }
.s3 { color: rgb(255,255,0); }
.s4 { color: rgb(220,120,220); }
.s5 { color: rgb(0,224,0); }
.s6 { color: rgb(128,128,128); font-style: italic; }
.ls0 { height: 1px; border-width: 0; color: rgb(32,32,48); background-color:rgb(32,32,48)}
</style>
</head>
<BODY BGCOLOR="#101020">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
NFCActivity.java</FONT>
</center></TD></TR></TABLE>
<pre>
<span class="s0">package </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">activities</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">annotation</span><span class="s2">.</span><span class="s1">TargetApi</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">app</span><span class="s2">.</span><span class="s1">Activity</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">app</span><span class="s2">.</span><span class="s1">PendingIntent</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">content</span><span class="s2">.</span><span class="s1">Context</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">content</span><span class="s2">.</span><span class="s1">DialogInterface</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">content</span><span class="s2">.</span><span class="s1">DialogInterface</span><span class="s2">.</span><span class="s1">OnClickListener</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">content</span><span class="s2">.</span><span class="s1">Intent</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">content</span><span class="s2">.</span><span class="s1">IntentFilter</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">nfc</span><span class="s2">.</span><span class="s1">NfcAdapter</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">nfc</span><span class="s2">.</span><span class="s1">Tag</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">os</span><span class="s2">.</span><span class="s1">Build</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">os</span><span class="s2">.</span><span class="s1">Bundle</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">os</span><span class="s2">.</span><span class="s1">PowerManager</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">Log</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">view</span><span class="s2">.</span><span class="s1">View</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">view</span><span class="s2">.</span><span class="s1">ViewPropertyAnimator</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">view</span><span class="s2">.</span><span class="s1">WindowManager</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">TextView</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">Toast</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">R</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">helpers</span><span class="s2">.</span><span class="s1">Progress</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">intefaces</span><span class="s2">.</span><span class="s1">IStatus</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">models</span><span class="s2">.</span><span class="s1">Status</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">AppLog</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">InternetConnection</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">OBSession</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">OfficeBotURI</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">StringConverter</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">HashMap</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">Objects</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">de</span><span class="s2">.</span><span class="s1">hdodenhof</span><span class="s2">.</span><span class="s1">circleimageview</span><span class="s2">.</span><span class="s1">CircleImageView</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">retrofit2</span><span class="s2">.</span><span class="s1">Call</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">retrofit2</span><span class="s2">.</span><span class="s1">Callback</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">retrofit2</span><span class="s2">.</span><span class="s1">Response</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import static </span><span class="s1">android</span><span class="s2">.</span><span class="s1">support</span><span class="s2">.</span><span class="s1">v7</span><span class="s2">.</span><span class="s1">app</span><span class="s2">.</span><span class="s1">AlertDialog</span><span class="s2">.</span><span class="s1">Builder</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">public class </span><span class="s1">NFCActivity 
        </span><span class="s0">extends </span><span class="s1">Activity </span><span class="s2">{</span><span class="s1"> 
    </span><span class="s0">public static final float </span><span class="s1">FLOAT_ROTATE </span><span class="s2">= </span><span class="s3">20.0F</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">public static final </span><span class="s1">String</span><span class="s2">[][] </span><span class="s1">STRINGS </span><span class="s2">= </span><span class="s0">new </span><span class="s1">String</span><span class="s2">[</span><span class="s3">0</span><span class="s2">][];</span><span class="s1"> 
    </span><span class="s0">private final </span><span class="s1">HashMap</span><span class="s2">&lt;</span><span class="s1">String</span><span class="s2">, </span><span class="s1">Object</span><span class="s2">&gt; </span><span class="s1">body </span><span class="s2">= </span><span class="s0">new </span><span class="s1">HashMap</span><span class="s2">&lt;&gt;();</span><span class="s1"> 
    </span><span class="s0">private final </span><span class="s1">IStatus request </span><span class="s2">= (</span><span class="s1">IStatus</span><span class="s2">) </span><span class="s1">OfficeBotURI</span><span class="s2">.</span><span class="s1">retrofit</span><span class="s2">().</span><span class="s1">create</span><span class="s2">(</span><span class="s1">IStatus</span><span class="s2">.</span><span class="s0">class</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">Context context </span><span class="s2">= </span><span class="s0">this</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private boolean </span><span class="s1">flag </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">CircleImageView imgInner </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">CircleImageView imgOuter </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">NfcAdapter mNfcAdapter </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">ViewPropertyAnimator tmpInner </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">ViewPropertyAnimator tmpOuter </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">public static void </span><span class="s1">setupForegroundDispatch</span><span class="s2">(</span><span class="s1">Activity activity</span><span class="s2">, </span><span class="s1">NfcAdapter nfcAdapter</span><span class="s2">) {</span><span class="s1"> 
        Object localObject </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Intent</span><span class="s2">(</span><span class="s1">activity</span><span class="s2">.</span><span class="s1">getApplicationContext</span><span class="s2">(), </span><span class="s1">activity</span><span class="s2">.</span><span class="s1">getClass</span><span class="s2">());</span><span class="s1"> 
        </span><span class="s2">((</span><span class="s1">Intent</span><span class="s2">) </span><span class="s1">localObject</span><span class="s2">).</span><span class="s1">setFlags</span><span class="s2">(</span><span class="s1">Intent</span><span class="s2">.</span><span class="s1">FLAG_ACTIVITY_SINGLE_TOP</span><span class="s2">);</span><span class="s1"> 
        localObject </span><span class="s2">= </span><span class="s1">PendingIntent</span><span class="s2">.</span><span class="s1">getActivity</span><span class="s2">(</span><span class="s1">activity</span><span class="s2">.</span><span class="s1">getApplicationContext</span><span class="s2">(), </span><span class="s3">0</span><span class="s2">, (</span><span class="s1">Intent</span><span class="s2">) </span><span class="s1">localObject</span><span class="s2">, </span><span class="s3">0</span><span class="s2">);</span><span class="s1"> 
        IntentFilter</span><span class="s2">[] </span><span class="s1">arrayOfIntentFilter </span><span class="s2">= </span><span class="s0">new </span><span class="s1">IntentFilter</span><span class="s2">[</span><span class="s3">3</span><span class="s2">];</span><span class="s1"> 
        arrayOfIntentFilter</span><span class="s2">[</span><span class="s3">0</span><span class="s2">] = </span><span class="s0">new </span><span class="s1">IntentFilter</span><span class="s2">();</span><span class="s1"> 
        arrayOfIntentFilter</span><span class="s2">[</span><span class="s3">0</span><span class="s2">].</span><span class="s1">addAction</span><span class="s2">(</span><span class="s4">&quot;android.nfc.action.NDEF_DISCOVERED&quot;</span><span class="s2">);</span><span class="s1"> 
        arrayOfIntentFilter</span><span class="s2">[</span><span class="s3">0</span><span class="s2">].</span><span class="s1">addCategory</span><span class="s2">(</span><span class="s4">&quot;android.intent.category.SELECTED_ALTERNATIVE&quot;</span><span class="s2">);</span><span class="s1"> 
        arrayOfIntentFilter</span><span class="s2">[</span><span class="s3">1</span><span class="s2">] = </span><span class="s0">new </span><span class="s1">IntentFilter</span><span class="s2">();</span><span class="s1"> 
        arrayOfIntentFilter</span><span class="s2">[</span><span class="s3">1</span><span class="s2">].</span><span class="s1">addAction</span><span class="s2">(</span><span class="s4">&quot;android.nfc.action.TAG_DISCOVERED&quot;</span><span class="s2">);</span><span class="s1"> 
        arrayOfIntentFilter</span><span class="s2">[</span><span class="s3">1</span><span class="s2">].</span><span class="s1">addCategory</span><span class="s2">(</span><span class="s4">&quot;android.intent.category.SELECTED_ALTERNATIVE&quot;</span><span class="s2">);</span><span class="s1"> 
        arrayOfIntentFilter</span><span class="s2">[</span><span class="s3">2</span><span class="s2">] = </span><span class="s0">new </span><span class="s1">IntentFilter</span><span class="s2">();</span><span class="s1"> 
        arrayOfIntentFilter</span><span class="s2">[</span><span class="s3">2</span><span class="s2">].</span><span class="s1">addAction</span><span class="s2">(</span><span class="s4">&quot;android.nfc.action.TECH_DISCOVERED&quot;</span><span class="s2">);</span><span class="s1"> 
        arrayOfIntentFilter</span><span class="s2">[</span><span class="s3">2</span><span class="s2">].</span><span class="s1">addCategory</span><span class="s2">(</span><span class="s4">&quot;android.intent.category.SELECTED_ALTERNATIVE&quot;</span><span class="s2">);</span><span class="s1"> 
        nfcAdapter</span><span class="s2">.</span><span class="s1">enableForegroundDispatch</span><span class="s2">(</span><span class="s1">activity</span><span class="s2">, (</span><span class="s1">PendingIntent</span><span class="s2">) </span><span class="s1">localObject</span><span class="s2">, </span><span class="s1">arrayOfIntentFilter</span><span class="s2">, </span><span class="s1">STRINGS</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">public static void </span><span class="s1">stopForegroundDispatch</span><span class="s2">(</span><span class="s1">Activity activity</span><span class="s2">, </span><span class="s1">NfcAdapter nfcAdapter</span><span class="s2">) {</span><span class="s1"> 
        nfcAdapter</span><span class="s2">.</span><span class="s1">disableForegroundDispatch</span><span class="s2">(</span><span class="s1">activity</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">protected void </span><span class="s1">onCreate</span><span class="s2">(</span><span class="s1">Bundle paramBundle</span><span class="s2">) {</span><span class="s1"> 
        </span><span class="s0">super</span><span class="s2">.</span><span class="s1">onCreate</span><span class="s2">(</span><span class="s1">paramBundle</span><span class="s2">);</span><span class="s1"> 
 
        mNfcAdapter </span><span class="s2">= </span><span class="s1">NfcAdapter</span><span class="s2">.</span><span class="s1">getDefaultAdapter</span><span class="s2">(</span><span class="s0">this</span><span class="s2">);</span><span class="s1"> 
</span><span class="s5">//        if (this.mNfcAdapter == null) {</span><span class="s1"> 
</span><span class="s5">//            Toast.makeText(this,</span><span class="s1"> 
</span><span class="s5">//                    R.string.nfc_not_support,</span><span class="s1"> 
</span><span class="s5">//                    Toast.LENGTH_SHORT).show();</span><span class="s1"> 
</span><span class="s5">//            finish();</span><span class="s1"> 
</span><span class="s5">//            return;</span><span class="s1"> 
</span><span class="s5">//        }</span><span class="s1"> 
</span><span class="s5">//        if (!this.mNfcAdapter.isEnabled()) {</span><span class="s1"> 
</span><span class="s5">//            Toast.makeText(getApplicationContext(),</span><span class="s1"> 
</span><span class="s5">//                    R.string.nfc_activate,</span><span class="s1"> 
</span><span class="s5">//                    Toast.LENGTH_SHORT).show();</span><span class="s1"> 
</span><span class="s5">//            startActivity(new Intent(&quot;android.settings.NFC_SETTINGS&quot;));</span><span class="s1"> 
</span><span class="s5">//        }</span><span class="s1"> 
        setContentView</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">layout</span><span class="s2">.</span><span class="s1">activity_nfc</span><span class="s2">);</span><span class="s1"> 
        getWindow</span><span class="s2">().</span><span class="s1">addFlags</span><span class="s2">(</span><span class="s1">WindowManager</span><span class="s2">.</span><span class="s1">LayoutParams</span><span class="s2">.</span><span class="s1">FLAG_KEEP_SCREEN_ON</span><span class="s2">);</span><span class="s1"> 
        imgOuter </span><span class="s2">= ((</span><span class="s1">CircleImageView</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">animate</span><span class="s2">));</span><span class="s1"> 
        imgInner </span><span class="s2">= ((</span><span class="s1">CircleImageView</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">animate2</span><span class="s2">));</span><span class="s1"> 
        animate</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s2">((</span><span class="s1">TextView</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">text_title_in_bar</span><span class="s2">)).</span><span class="s1">setText</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">nfc_activity</span><span class="s2">));</span><span class="s1"> 
        handleIntent</span><span class="s2">(</span><span class="s1">getIntent</span><span class="s2">());</span><span class="s1"> 
        findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">backBtnImg</span><span class="s2">).</span><span class="s1">setOnClickListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">View</span><span class="s2">.</span><span class="s1">OnClickListener</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">View v</span><span class="s2">) {</span><span class="s1"> 
                onBackPressed</span><span class="s2">();</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">protected void </span><span class="s1">onStart</span><span class="s2">() {</span><span class="s1"> 
        </span><span class="s0">this</span><span class="s2">.</span><span class="s1">flag </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s0">super</span><span class="s2">.</span><span class="s1">onStart</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s0">this</span><span class="s2">.</span><span class="s1">mNfcAdapter </span><span class="s2">= </span><span class="s1">NfcAdapter</span><span class="s2">.</span><span class="s1">getDefaultAdapter</span><span class="s2">(</span><span class="s0">this</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">protected void </span><span class="s1">onResume</span><span class="s2">() {</span><span class="s1"> 
        setupForegroundDispatch</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s0">this</span><span class="s2">.</span><span class="s1">mNfcAdapter</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s0">super</span><span class="s2">.</span><span class="s1">onResume</span><span class="s2">();</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">protected void </span><span class="s1">onPause</span><span class="s2">() {</span><span class="s1"> 
        stopForegroundDispatch</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s0">this</span><span class="s2">.</span><span class="s1">mNfcAdapter</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s0">super</span><span class="s2">.</span><span class="s1">onPause</span><span class="s2">();</span><span class="s1"> 
        flag </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">private void </span><span class="s1">animate</span><span class="s2">() {</span><span class="s1"> 
        </span><span class="s0">this</span><span class="s2">.</span><span class="s1">tmpOuter </span><span class="s2">= </span><span class="s0">this</span><span class="s2">.</span><span class="s1">imgOuter</span><span class="s2">.</span><span class="s1">animate</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s0">this</span><span class="s2">.</span><span class="s1">tmpInner </span><span class="s2">= </span><span class="s0">this</span><span class="s2">.</span><span class="s1">imgInner</span><span class="s2">.</span><span class="s1">animate</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s0">final </span><span class="s1">Thread localThread </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Thread</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Runnable</span><span class="s2">() {</span><span class="s1"> 
            </span><span class="s0">float </span><span class="s1">i </span><span class="s2">= </span><span class="s1">FLOAT_ROTATE</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s0">float </span><span class="s1">i2 </span><span class="s2">= -</span><span class="s1">FLOAT_ROTATE</span><span class="s2">;</span><span class="s1"> 
 
            </span><span class="s0">public void </span><span class="s1">run</span><span class="s2">() {</span><span class="s1"> 
                </span><span class="s0">while </span><span class="s2">(</span><span class="s1">flag</span><span class="s2">) {</span><span class="s1"> 
                    tmpOuter</span><span class="s2">.</span><span class="s1">rotation</span><span class="s2">(</span><span class="s0">this</span><span class="s2">.</span><span class="s1">i</span><span class="s2">);</span><span class="s1"> 
                    tmpInner</span><span class="s2">.</span><span class="s1">rotation</span><span class="s2">(</span><span class="s0">this</span><span class="s2">.</span><span class="s1">i2</span><span class="s2">);</span><span class="s1"> 
                    </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
                        </span><span class="s0">this</span><span class="s2">.</span><span class="s1">i </span><span class="s2">+= </span><span class="s1">FLOAT_ROTATE</span><span class="s2">;</span><span class="s1"> 
                        </span><span class="s0">this</span><span class="s2">.</span><span class="s1">i2 </span><span class="s2">-= </span><span class="s1">FLOAT_ROTATE</span><span class="s2">;</span><span class="s1"> 
                        Thread</span><span class="s2">.</span><span class="s1">sleep</span><span class="s2">(</span><span class="s3">500L</span><span class="s2">);</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">setVibrate</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INTENSITY_LOW</span><span class="s2">);</span><span class="s1"> 
                    </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">InterruptedException localInterruptedException</span><span class="s2">) {</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">localInterruptedException</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">());</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s0">this</span><span class="s2">.</span><span class="s1">mNfcAdapter</span><span class="s2">.</span><span class="s1">isEnabled</span><span class="s2">()) {</span><span class="s1"> 
            </span><span class="s0">this</span><span class="s2">.</span><span class="s1">tmpOuter</span><span class="s2">.</span><span class="s1">start</span><span class="s2">();</span><span class="s1"> 
            localThread</span><span class="s2">.</span><span class="s1">start</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">private void </span><span class="s1">handleIntent</span><span class="s2">(</span><span class="s0">final </span><span class="s1">Intent paramIntent</span><span class="s2">) {</span><span class="s1"> 
        Object action </span><span class="s2">= </span><span class="s1">paramIntent</span><span class="s2">.</span><span class="s1">getAction</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">NfcAdapter</span><span class="s2">.</span><span class="s1">ACTION_NDEF_DISCOVERED</span><span class="s2">.</span><span class="s1">equals</span><span class="s2">(</span><span class="s1">action</span><span class="s2">)</span><span class="s1"> 
                </span><span class="s2">|| </span><span class="s1">NfcAdapter</span><span class="s2">.</span><span class="s1">ACTION_TECH_DISCOVERED</span><span class="s2">.</span><span class="s1">equals</span><span class="s2">(</span><span class="s1">action</span><span class="s2">)</span><span class="s1"> 
                </span><span class="s2">|| </span><span class="s1">NfcAdapter</span><span class="s2">.</span><span class="s1">ACTION_TAG_DISCOVERED</span><span class="s2">.</span><span class="s1">equals</span><span class="s2">(</span><span class="s1">action</span><span class="s2">)) {</span><span class="s1"> 
            AppLog</span><span class="s2">.</span><span class="s1">setVibrate</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INTENSITY_MIDDLE</span><span class="s2">);</span><span class="s1"> 
            </span><span class="s0">final </span><span class="s1">String ssn </span><span class="s2">= </span><span class="s1">StringConverter</span><span class="s2">.</span><span class="s1"> 
                    bytesToHex</span><span class="s2">(((</span><span class="s1">Tag</span><span class="s2">) </span><span class="s1">paramIntent</span><span class="s2">.</span><span class="s1"> 
                            getParcelableExtra</span><span class="s2">(</span><span class="s1">NfcAdapter</span><span class="s2">.</span><span class="s1">EXTRA_TAG</span><span class="s2">)).</span><span class="s1"> 
                            getId</span><span class="s2">());</span><span class="s1"> 
            body</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">ssn_key</span><span class="s2">), </span><span class="s1">ssn</span><span class="s2">);</span><span class="s1"> 
            body</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">user_id_key</span><span class="s2">), </span><span class="s1">OBSession</span><span class="s2">.</span><span class="s1">getPreference</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">id_key</span><span class="s2">), </span><span class="s0">this</span><span class="s2">.</span><span class="s1">context</span><span class="s2">));</span><span class="s1"> 
            retrofit2</span><span class="s2">.</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">call </span><span class="s2">= </span><span class="s1">request</span><span class="s2">.</span><span class="s1">verifyTag</span><span class="s2">(</span><span class="s0">this</span><span class="s2">.</span><span class="s1">body</span><span class="s2">);</span><span class="s1"> 
            Progress</span><span class="s2">.</span><span class="s1">Show</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">scan</span><span class="s2">) + </span><span class="s4">&quot;ing..&quot;</span><span class="s2">);</span><span class="s1"> 
            flag </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s0">if </span><span class="s2">(</span><span class="s1">InternetConnection</span><span class="s2">.</span><span class="s1">checkConnection</span><span class="s2">(</span><span class="s0">this</span><span class="s2">)) {</span><span class="s1"> 
                call</span><span class="s2">.</span><span class="s1">enqueue</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Callback</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt;() {</span><span class="s1"> 
                    </span><span class="s0">public void </span><span class="s1">onFailure</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">call</span><span class="s2">,</span><span class="s1"> 
                                          Throwable t</span><span class="s2">) {</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">toastShortString</span><span class="s2">(</span><span class="s4">&quot;Net Not Available&quot; </span><span class="s2">+ </span><span class="s1">t</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">()</span><span class="s1"> 
                                </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                        Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                        finish</span><span class="s2">();</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
 
                    @TargetApi </span><span class="s2">(</span><span class="s1">Build</span><span class="s2">.</span><span class="s1">VERSION_CODES</span><span class="s2">.</span><span class="s1">KITKAT</span><span class="s2">)</span><span class="s1"> 
                    </span><span class="s0">public void </span><span class="s1">onResponse</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">call</span><span class="s2">,</span><span class="s1"> 
                                           </span><span class="s0">final </span><span class="s1">Response</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">response</span><span class="s2">) {</span><span class="s1"> 
                        Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;TAG&quot;</span><span class="s2">, </span><span class="s4">&quot;onResponse: &quot; </span><span class="s2">+ </span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">());</span><span class="s1"> 
                        Intent i</span><span class="s2">;</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">setVibrate</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INTENSITY_MIDDLE</span><span class="s2">);</span><span class="s1"> 
                        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">() == </span><span class="s3">200</span><span class="s2">) {</span><span class="s1"> 
                            </span><span class="s0">if </span><span class="s2">(!</span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">isExist</span><span class="s2">()) {</span><span class="s1"> 
                                i </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Intent</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">AddNewTagActivity</span><span class="s2">.</span><span class="s0">class</span><span class="s2">);</span><span class="s1"> 
                                i</span><span class="s2">.</span><span class="s1">putExtra</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">tag_id_key</span><span class="s2">), </span><span class="s1">ssn</span><span class="s2">);</span><span class="s1"> 
                                startActivity</span><span class="s2">(</span><span class="s1">i</span><span class="s2">);</span><span class="s1"> 
                                Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                                finish</span><span class="s2">();</span><span class="s1"> 
                            </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">((</span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">isExist</span><span class="s2">()) &amp;&amp; (</span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">isOwner</span><span class="s2">())) {</span><span class="s1"> 
                                Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                                i </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Intent</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">TagMainActivity</span><span class="s2">.</span><span class="s0">class</span><span class="s2">);</span><span class="s1"> 
                                i</span><span class="s2">.</span><span class="s1">putExtra</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">tag_id_key</span><span class="s2">), </span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getTagId</span><span class="s2">());</span><span class="s1"> 
                                startActivity</span><span class="s2">(</span><span class="s1">i</span><span class="s2">);</span><span class="s1"> 
                                finish</span><span class="s2">();</span><span class="s1"> 
                            </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getPermission</span><span class="s2">() != </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
                                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">Objects</span><span class="s2">.</span><span class="s1">equals</span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getPermission</span><span class="s2">(), </span><span class="s4">&quot;n&quot;</span><span class="s2">)) {</span><span class="s1"> 
                                    Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getUserId</span><span class="s2">() &gt; </span><span class="s3">1</span><span class="s2">) {</span><span class="s1"> 
                                        Builder builder </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Builder</span><span class="s2">(</span><span class="s1">context</span><span class="s2">);</span><span class="s1"> 
                                        builder</span><span class="s2">.</span><span class="s1">setMessage</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">send_reqeu</span><span class="s2">);</span><span class="s1"> 
                                        builder</span><span class="s2">.</span><span class="s1">setPositiveButton</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">send</span><span class="s2">, </span><span class="s0">new </span><span class="s1">OnClickListener</span><span class="s2">() {</span><span class="s1"> 
                                            </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">DialogInterface dialog</span><span class="s2">, </span><span class="s0">int </span><span class="s1">which</span><span class="s2">) {</span><span class="s1"> 
                                                HashMap</span><span class="s2">&lt;</span><span class="s1">String</span><span class="s2">, </span><span class="s1">Object</span><span class="s2">&gt; </span><span class="s1">localHashMap </span><span class="s2">= </span><span class="s0">new </span><span class="s1">HashMap</span><span class="s2">&lt;&gt;();</span><span class="s1"> 
                                                IStatus localIStatus </span><span class="s2">= </span><span class="s1">OfficeBotURI</span><span class="s2">.</span><span class="s1">retrofit</span><span class="s2">().</span><span class="s1">create</span><span class="s2">(</span><span class="s1">IStatus</span><span class="s2">.</span><span class="s0">class</span><span class="s2">);</span><span class="s1"> 
                                                localHashMap</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">user_id_key</span><span class="s2">), </span><span class="s1">OBSession</span><span class="s2">.</span><span class="s1">getPreference</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">user_id_key</span><span class="s2">), </span><span class="s1">context</span><span class="s2">));</span><span class="s1"> 
                                                localHashMap</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">user2_id_key</span><span class="s2">), </span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getUserId</span><span class="s2">());</span><span class="s1"> 
                                                localIStatus</span><span class="s2">.</span><span class="s1">getSendRequestStatus</span><span class="s2">(</span><span class="s1">localHashMap</span><span class="s2">).</span><span class="s1">enqueue</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Callback</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt;() {</span><span class="s1"> 
                                                    </span><span class="s0">public void </span><span class="s1">onFailure</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">call</span><span class="s2">,</span><span class="s1"> 
                                                                          Throwable throwable</span><span class="s2">) {</span><span class="s1"> 
                                                        Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s1">context</span><span class="s2">,</span><span class="s1"> 
                                                                throwable</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">(),</span><span class="s1"> 
                                                                Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                                                        finish</span><span class="s2">();</span><span class="s1"> 
                                                    </span><span class="s2">}</span><span class="s1"> 
 
                                                    </span><span class="s0">public void </span><span class="s1">onResponse</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">call</span><span class="s2">, </span><span class="s1">Response</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">response</span><span class="s2">) {</span><span class="s1"> 
                                                        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">() == </span><span class="s3">200</span><span class="s2">) {</span><span class="s1"> 
                                                            </span><span class="s0">if </span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">isRequest</span><span class="s2">()) {</span><span class="s1"> 
                                                                Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s4">&quot;Request Send Successfully&quot;</span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_LONG</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
 
                                                            </span><span class="s2">} </span><span class="s0">else</span><span class="s1"> 
                                                                Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s4">&quot;Request Send UnSuccessfully&quot;</span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
 
                                                        </span><span class="s2">} </span><span class="s0">else</span><span class="s1"> 
                                                            Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s4">&quot;Server Offline&quot; </span><span class="s2">+ </span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">(), </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_LONG</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
 
                                                        finish</span><span class="s2">();</span><span class="s1"> 
                                                    </span><span class="s2">}</span><span class="s1"> 
                                                </span><span class="s2">});</span><span class="s1"> 
                                                dialog</span><span class="s2">.</span><span class="s1">cancel</span><span class="s2">();</span><span class="s1"> 
                                                AppLog</span><span class="s2">.</span><span class="s1">setVibrate</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INTENSITY_MIDDLE</span><span class="s2">);</span><span class="s1"> 
                                                Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">request_send</span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                                            </span><span class="s2">}</span><span class="s1"> 
                                        </span><span class="s2">});</span><span class="s1"> 
                                        builder</span><span class="s2">.</span><span class="s1">setNegativeButton</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">no</span><span class="s2">), </span><span class="s0">new </span><span class="s1">OnClickListener</span><span class="s2">() {</span><span class="s1"> 
                                            </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">DialogInterface dialogInterface</span><span class="s2">, </span><span class="s0">int </span><span class="s1">which</span><span class="s2">) {</span><span class="s1"> 
                                                dialogInterface</span><span class="s2">.</span><span class="s1">cancel</span><span class="s2">();</span><span class="s1"> 
                                                AppLog</span><span class="s2">.</span><span class="s1">setVibrate</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INTENSITY_MIDDLE</span><span class="s2">);</span><span class="s1"> 
                                                finish</span><span class="s2">();</span><span class="s1"> 
                                            </span><span class="s2">}</span><span class="s1"> 
                                        </span><span class="s2">});</span><span class="s1"> 
                                        builder</span><span class="s2">.</span><span class="s1">create</span><span class="s2">().</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                                    </span><span class="s2">}</span><span class="s1"> 
                                    Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s1">context</span><span class="s2">,</span><span class="s1"> 
                                            R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">private_tag</span><span class="s2">,</span><span class="s1"> 
                                            Toast</span><span class="s2">.</span><span class="s1">LENGTH_LONG</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                                </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                                    Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                                    i </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Intent</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">ScanTagActivity</span><span class="s2">.</span><span class="s0">class</span><span class="s2">);</span><span class="s1"> 
                                    i</span><span class="s2">.</span><span class="s1">putExtra</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">tag_id_key</span><span class="s2">), </span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getTagId</span><span class="s2">());</span><span class="s1"> 
                                    i</span><span class="s2">.</span><span class="s1">putExtra</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">permission_key</span><span class="s2">), </span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getPermission</span><span class="s2">());</span><span class="s1"> 
                                    startActivity</span><span class="s2">(</span><span class="s1">i</span><span class="s2">);</span><span class="s1"> 
                                    finish</span><span class="s2">();</span><span class="s1"> 
                                </span><span class="s2">}</span><span class="s1"> 
                            </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                                Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                                i </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Intent</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">ScanTagActivity</span><span class="s2">.</span><span class="s0">class</span><span class="s2">);</span><span class="s1"> 
                                i</span><span class="s2">.</span><span class="s1">putExtra</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">tag_id_key</span><span class="s2">), </span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getTagId</span><span class="s2">());</span><span class="s1"> 
                                i</span><span class="s2">.</span><span class="s1">putExtra</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">permission_key</span><span class="s2">), </span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getPermission</span><span class="s2">());</span><span class="s1"> 
                                startActivity</span><span class="s2">(</span><span class="s1">i</span><span class="s2">);</span><span class="s1"> 
                                finish</span><span class="s2">();</span><span class="s1"> 
 
                            </span><span class="s2">}</span><span class="s1"> 
                        </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                            Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s1">context</span><span class="s2">,</span><span class="s1"> 
                                    </span><span class="s4">&quot;Server Offline&quot; </span><span class="s2">+ </span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">(),</span><span class="s1"> 
                                    Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                            finish</span><span class="s2">();</span><span class="s1"> 
                        </span><span class="s2">}</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s2">});</span><span class="s1"> 
            </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                AppLog</span><span class="s2">.</span><span class="s1">toastShortString</span><span class="s2">(</span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">NET_NOT_AVAILABLE 
                        </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                finish</span><span class="s2">();</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">public void </span><span class="s1">goBack</span><span class="s2">(</span><span class="s1">View paramView</span><span class="s2">) {</span><span class="s1"> 
        </span><span class="s0">this</span><span class="s2">.</span><span class="s1">flag </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s0">super</span><span class="s2">.</span><span class="s1">onBackPressed</span><span class="s2">();</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">public void </span><span class="s1">onBackPressed</span><span class="s2">() {</span><span class="s1"> 
        </span><span class="s0">this</span><span class="s2">.</span><span class="s1">flag </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s0">super</span><span class="s2">.</span><span class="s1">onBackPressed</span><span class="s2">();</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">protected void </span><span class="s1">onNewIntent</span><span class="s2">(</span><span class="s1">Intent paramIntent</span><span class="s2">) {</span><span class="s1"> 
        handleIntent</span><span class="s2">(</span><span class="s1">paramIntent</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    @Override 
    </span><span class="s0">protected void </span><span class="s1">onDestroy</span><span class="s2">() {</span><span class="s1"> 
        </span><span class="s0">super</span><span class="s2">.</span><span class="s1">onDestroy</span><span class="s2">();</span><span class="s1"> 
        flag </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
        PowerManager powerManager </span><span class="s2">= (</span><span class="s1">PowerManager</span><span class="s2">) </span><span class="s1">getSystemService</span><span class="s2">(</span><span class="s1">POWER_SERVICE</span><span class="s2">);</span><span class="s1"> 
        PowerManager</span><span class="s2">.</span><span class="s1">WakeLock wakeLock </span><span class="s2">= </span><span class="s1">powerManager</span><span class="s2">.</span><span class="s1">newWakeLock</span><span class="s2">(</span><span class="s1">PowerManager</span><span class="s2">.</span><span class="s1">PARTIAL_WAKE_LOCK</span><span class="s2">,</span><span class="s1"> 
                </span><span class="s4">&quot;MyWakelockTag&quot;</span><span class="s2">);</span><span class="s1"> 
        wakeLock</span><span class="s2">.</span><span class="s1">acquire</span><span class="s2">();</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
</span><span class="s2">}</span><span class="s1"> 
 
 
 
</span><span class="s6">/* Location:           C:\Users\N_U\Desktop\Tolo\ob\classes30-dex2jar.jar 
 
 * Qualified Name:     com.example.n_u.officebot.activities.NFCActivity 
 
 * JD-Core Version:    0.7.0.1 
 
 */</span></pre>
</body>
</html>