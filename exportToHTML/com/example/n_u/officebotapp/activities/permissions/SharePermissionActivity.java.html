<html>
<head>
<title>SharePermissionActivity.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: #2b91af; font-weight: normal; font-style: normal; }
.s0 { color: rgb(0,208,208); }
.s1 { color: rgb(208,208,208); }
.s2 { color: rgb(208,208,208); }
.s3 { color: rgb(0,224,0); }
.s4 { color: rgb(220,120,220); }
.s5 { color: rgb(255,255,0); }
.ls0 { height: 1px; border-width: 0; color: rgb(32,32,48); background-color:rgb(32,32,48)}
</style>
</head>
<BODY BGCOLOR="#101020">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
SharePermissionActivity.java</FONT>
</center></TD></TR></TABLE>
<pre>
<span class="s0">package </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">activities</span><span class="s2">.</span><span class="s1">permissions</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">content</span><span class="s2">.</span><span class="s1">Context</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">content</span><span class="s2">.</span><span class="s1">Intent</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">os</span><span class="s2">.</span><span class="s1">Bundle</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">support</span><span class="s2">.</span><span class="s1">annotation</span><span class="s2">.</span><span class="s1">NonNull</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">support</span><span class="s2">.</span><span class="s1">v7</span><span class="s2">.</span><span class="s1">app</span><span class="s2">.</span><span class="s1">AppCompatActivity</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">support</span><span class="s2">.</span><span class="s1">v7</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">LinearLayoutManager</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">support</span><span class="s2">.</span><span class="s1">v7</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">RecyclerView</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">Log</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">view</span><span class="s2">.</span><span class="s1">View</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">view</span><span class="s2">.</span><span class="s1">View</span><span class="s2">.</span><span class="s1">OnClickListener</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">view</span><span class="s2">.</span><span class="s1">animation</span><span class="s2">.</span><span class="s1">AnimationSet</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">Button</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">CompoundButton</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">RadioButton</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">TextView</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">Toast</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">activeandroid</span><span class="s2">.</span><span class="s1">ActiveAndroid</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">activeandroid</span><span class="s2">.</span><span class="s1">query</span><span class="s2">.</span><span class="s1">Delete</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">afollestad</span><span class="s2">.</span><span class="s1">materialdialogs</span><span class="s2">.</span><span class="s1">DialogAction</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">afollestad</span><span class="s2">.</span><span class="s1">materialdialogs</span><span class="s2">.</span><span class="s1">MaterialDialog</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">R</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">adapters</span><span class="s2">.</span><span class="s1">SelectionFriendAdapter</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">adapters</span><span class="s2">.</span><span class="s1">SelectionGroupAdapter</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">helpers</span><span class="s2">.</span><span class="s1">Progress</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">intefaces</span><span class="s2">.</span><span class="s1">IFriends</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">intefaces</span><span class="s2">.</span><span class="s1">IGroups</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">models</span><span class="s2">.</span><span class="s1">Friend</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">models</span><span class="s2">.</span><span class="s1">Group</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">models</span><span class="s2">.</span><span class="s1">ModelList</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">AppLog</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">OBSession</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">OfficeBotURI</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">ArrayList</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">HashMap</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">List</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">retrofit2</span><span class="s2">.</span><span class="s1">Call</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">retrofit2</span><span class="s2">.</span><span class="s1">Callback</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">retrofit2</span><span class="s2">.</span><span class="s1">Response</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import static </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">activities</span><span class="s2">.</span><span class="s1">NewMessageActivity</span><span class="s2">.</span><span class="s1">REQUEST_CODE_FOR_SHARE</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">public class </span><span class="s1">SharePermissionActivity 
        </span><span class="s0">extends </span><span class="s1">AppCompatActivity 
        </span><span class="s0">implements </span><span class="s1">OnClickListener </span><span class="s2">{</span><span class="s1"> 
    </span><span class="s0">private final </span><span class="s1">HashMap</span><span class="s2">&lt;</span><span class="s1">String</span><span class="s2">, </span><span class="s1">Object</span><span class="s2">&gt; </span><span class="s1">body </span><span class="s2">= </span><span class="s0">new </span><span class="s1">HashMap</span><span class="s2">&lt;&gt;();</span><span class="s1"> 
    </span><span class="s0">private final </span><span class="s1">IFriends friendListRequest </span><span class="s2">= </span><span class="s1">OfficeBotURI</span><span class="s2">.</span><span class="s1">retrofit</span><span class="s2">().</span><span class="s1">create</span><span class="s2">(</span><span class="s1">IFriends</span><span class="s2">.</span><span class="s0">class</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s0">private final </span><span class="s1">IGroups groupListRequest </span><span class="s2">= </span><span class="s1">OfficeBotURI</span><span class="s2">.</span><span class="s1">retrofit</span><span class="s2">().</span><span class="s1">create</span><span class="s2">(</span><span class="s1">IGroups</span><span class="s2">.</span><span class="s0">class</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt; </span><span class="s1">callRequest </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private boolean </span><span class="s1">check_friend_list </span><span class="s2">= </span><span class="s0">true</span><span class="s2">, </span><span class="s1">check_group_list </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">Context context </span><span class="s2">= </span><span class="s0">this</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">CompoundButton forEveryone </span><span class="s2">= </span><span class="s0">null</span><span class="s2">, </span><span class="s1">friend </span><span class="s2">= </span><span class="s0">null</span><span class="s2">, </span><span class="s1">group </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">ArrayList</span><span class="s2">&lt;</span><span class="s1">Integer</span><span class="s2">&gt; </span><span class="s1">friendId </span><span class="s2">= </span><span class="s0">new </span><span class="s1">ArrayList</span><span class="s2">&lt;&gt;(), </span><span class="s1">groupId </span><span class="s2">= </span><span class="s0">new </span><span class="s1">ArrayList</span><span class="s2">&lt;&gt;();</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">List</span><span class="s2">&lt;</span><span class="s1">Friend</span><span class="s2">&gt; </span><span class="s1">friendList </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">List</span><span class="s2">&lt;</span><span class="s1">Group</span><span class="s2">&gt; </span><span class="s1">groupList </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">Bundle permissionList </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Bundle</span><span class="s2">();</span><span class="s1"> 
 
    </span><span class="s3">//    protected void onCreate(Bundle paramBundle) {</span><span class="s1"> 
</span><span class="s3">//        super.onCreate(paramBundle);</span><span class="s1"> 
</span><span class="s3">//        if (InternetConnection.checkConnection(getApplicationContext())) {</span><span class="s1"> 
</span><span class="s3">//            data();</span><span class="s1"> 
</span><span class="s3">//        }</span><span class="s1"> 
</span><span class="s3">//        for (; ; ) {</span><span class="s1"> 
</span><span class="s3">//            setContentView(2130968634);</span><span class="s1"> 
</span><span class="s3">//            this.group = ((CompoundButton) findViewById(2132017442));</span><span class="s1"> 
</span><span class="s3">//            this.friend = ((CompoundButton) findViewById(2132017559));</span><span class="s1"> 
</span><span class="s3">//            this.forEveryone = ((CompoundButton) findViewById(2132017558));</span><span class="s1"> 
</span><span class="s3">//            this.go = ((Button) findViewById(2132017444));</span><span class="s1"> 
</span><span class="s3">//            this.group.setOnClickListener(new OnClickListener() {</span><span class="s1"> 
</span><span class="s3">//                public void onClick(View paramAnonymousView) {</span><span class="s1"> 
</span><span class="s3">//                    if ((forEveryone.isChecked()) || (friend.isChecked())) {</span><span class="s1"> 
</span><span class="s3">//                        forEveryone.setChecked(false);</span><span class="s1"> 
</span><span class="s3">//                        friend.setChecked(false);</span><span class="s1"> 
</span><span class="s3">//                    }</span><span class="s1"> 
</span><span class="s3">//                    SharePermissionActivity.access$202(SharePermissionActivity.this, false);</span><span class="s1"> 
</span><span class="s3">//                    SharePermissionActivity.access$302(SharePermissionActivity.this, true);</span><span class="s1"> 
</span><span class="s3">//                }</span><span class="s1"> 
</span><span class="s3">//            });</span><span class="s1"> 
</span><span class="s3">//            this.friend.setOnClickListener(new OnClickListener() {</span><span class="s1"> 
</span><span class="s3">//                public void onClick(View paramAnonymousView) {</span><span class="s1"> 
</span><span class="s3">//                    if ((forEveryone.isChecked()) || (group.isChecked())) {</span><span class="s1"> 
</span><span class="s3">//                        forEveryone.setChecked(false);</span><span class="s1"> 
</span><span class="s3">//                        group.setChecked(false);</span><span class="s1"> 
</span><span class="s3">//                    }</span><span class="s1"> 
</span><span class="s3">//                    SharePermissionActivity.access$202(SharePermissionActivity.this, true);</span><span class="s1"> 
</span><span class="s3">//                    SharePermissionActivity.access$302(SharePermissionActivity.this, false);</span><span class="s1"> 
</span><span class="s3">//                }</span><span class="s1"> 
</span><span class="s3">//            });</span><span class="s1"> 
</span><span class="s3">//            this.forEveryone.setOnClickListener(new OnClickListener() {</span><span class="s1"> 
</span><span class="s3">//                public void onClick(View paramAnonymousView) {</span><span class="s1"> 
</span><span class="s3">//                    if ((friend.isChecked()) || (group.isChecked())) {</span><span class="s1"> 
</span><span class="s3">//                        friend.setChecked(false);</span><span class="s1"> 
</span><span class="s3">//                        group.setChecked(false);</span><span class="s1"> 
</span><span class="s3">//                    }</span><span class="s1"> 
</span><span class="s3">//                    SharePermissionActivity.access$202(SharePermissionActivity.this, false);</span><span class="s1"> 
</span><span class="s3">//                    SharePermissionActivity.access$302(SharePermissionActivity.this, false);</span><span class="s1"> 
</span><span class="s3">//                }</span><span class="s1"> 
</span><span class="s3">//            });</span><span class="s1"> 
</span><span class="s3">//            findViewById(2132017438).setOnClickListener(new OnClickListener() {</span><span class="s1"> 
</span><span class="s3">//                public void onClick(View paramAnonymousView) {</span><span class="s1"> 
</span><span class="s3">//                    onBackPressed();</span><span class="s1"> 
</span><span class="s3">//                }</span><span class="s1"> 
</span><span class="s3">//            });</span><span class="s1"> 
</span><span class="s3">//            this.go.setOnClickListener(new OnClickListener() {</span><span class="s1"> 
</span><span class="s3">//                public void onClick(View paramAnonymousView) {</span><span class="s1"> 
</span><span class="s3">//                    Progress.Show(getApplication());</span><span class="s1"> 
</span><span class="s3">//                    if ((check_friend_list) &amp;&amp; (friend.isChecked())) {</span><span class="s1"> 
</span><span class="s3">//                        new Runnable() {</span><span class="s1"> 
</span><span class="s3">//                            public void run() {</span><span class="s1"> 
</span><span class="s3">//                                if (friendId.isEmpty()) {</span><span class="s1"> 
</span><span class="s3">//                                    Iterator localIterator = friendList.iterator();</span><span class="s1"> 
</span><span class="s3">//                                    while (localIterator.hasNext()) {</span><span class="s1"> 
</span><span class="s3">//                                        Friend localFriend = (Friend) localIterator.next();</span><span class="s1"> 
</span><span class="s3">//                                        friendId.add(localFriend.getFriendId());</span><span class="s1"> 
</span><span class="s3">//                                    }</span><span class="s1"> 
</span><span class="s3">//                                    permissionList.putString(getString(2131427640), &quot;1&quot;);</span><span class="s1"> 
</span><span class="s3">//                                    permissionList.putString(getString(2131427597), &quot;4&quot;);</span><span class="s1"> 
</span><span class="s3">//                                }</span><span class="s1"> 
</span><span class="s3">//                                for (; ; ) {</span><span class="s1"> 
</span><span class="s3">//                                    Progress.Cancel();</span><span class="s1"> 
</span><span class="s3">//                                    setResult(1, new Intent().putExtra(getString(2131427724), permissionList));</span><span class="s1"> 
</span><span class="s3">//                                    finish();</span><span class="s1"> 
</span><span class="s3">//                                    return;</span><span class="s1"> 
</span><span class="s3">//                                    permissionList.putIntegerArrayList(getString(2131427793), friendId);</span><span class="s1"> 
</span><span class="s3">//                                    permissionList.putString(getString(2131427597), &quot;2&quot;);</span><span class="s1"> 
</span><span class="s3">//                                }</span><span class="s1"> 
</span><span class="s3">//                            }</span><span class="s1"> 
</span><span class="s3">//                        }.run();</span><span class="s1"> 
</span><span class="s3">//                        return;</span><span class="s1"> 
</span><span class="s3">//                    }</span><span class="s1"> 
</span><span class="s3">//                    if ((check_group_list) &amp;&amp; (group.isChecked())) {</span><span class="s1"> 
</span><span class="s3">//                        new Runnable() {</span><span class="s1"> 
</span><span class="s3">//                            public void run() {</span><span class="s1"> 
</span><span class="s3">//                                if ((groupId.isEmpty()) &amp;&amp; (groupList.size() &gt;= 1)) {</span><span class="s1"> 
</span><span class="s3">//                                    Iterator localIterator = groupList.iterator();</span><span class="s1"> 
</span><span class="s3">//                                    while (localIterator.hasNext()) {</span><span class="s1"> 
</span><span class="s3">//                                        Group localGroup = (Group) localIterator.next();</span><span class="s1"> 
</span><span class="s3">//                                        groupId.add(localGroup.getGroupId());</span><span class="s1"> 
</span><span class="s3">//                                    }</span><span class="s1"> 
</span><span class="s3">//                                }</span><span class="s1"> 
</span><span class="s3">//                                if ((groupId.size() == 1) &amp;&amp; (Objects.equals(groupId.get(0), -10))) {</span><span class="s1"> 
</span><span class="s3">//                                    permissionList.putString(getString(2131427597), &quot;4&quot;);</span><span class="s1"> 
</span><span class="s3">//                                }</span><span class="s1"> 
</span><span class="s3">//                                for (; ; ) {</span><span class="s1"> 
</span><span class="s3">//                                    permissionList.putIntegerArrayList(getString(2131427651), groupId);</span><span class="s1"> 
</span><span class="s3">//                                    Progress.Cancel();</span><span class="s1"> 
</span><span class="s3">//                                    setResult(1, new Intent().putExtra(getString(2131427724), permissionList));</span><span class="s1"> 
</span><span class="s3">//                                    finish();</span><span class="s1"> 
</span><span class="s3">//                                    return;</span><span class="s1"> 
</span><span class="s3">//                                    permissionList.putString(getString(2131427597), &quot;3&quot;);</span><span class="s1"> 
</span><span class="s3">//                                }</span><span class="s1"> 
</span><span class="s3">//                            }</span><span class="s1"> 
</span><span class="s3">//                        }.run();</span><span class="s1"> 
</span><span class="s3">//                        return;</span><span class="s1"> 
</span><span class="s3">//                    }</span><span class="s1"> 
</span><span class="s3">//                    new Runnable() {</span><span class="s1"> 
</span><span class="s3">//                        public void run() {</span><span class="s1"> 
</span><span class="s3">//                            Progress.Cancel();</span><span class="s1"> 
</span><span class="s3">//                            permissionList.putString(getString(2131427597), &quot;1&quot;);</span><span class="s1"> 
</span><span class="s3">//                            permissionList.putString(getString(2131427733), &quot;1&quot;);</span><span class="s1"> 
</span><span class="s3">//                            setResult(1, new Intent().putExtra(getString(2131427724), permissionList));</span><span class="s1"> 
</span><span class="s3">//                            finish();</span><span class="s1"> 
</span><span class="s3">//                        }</span><span class="s1"> 
</span><span class="s3">//                    }.run();</span><span class="s1"> 
</span><span class="s3">//                }</span><span class="s1"> 
</span><span class="s3">//            });</span><span class="s1"> 
</span><span class="s3">//            ((TextView) findViewById(2132017641)).setText(2131427721);</span><span class="s1"> 
</span><span class="s3">//            return;</span><span class="s1"> 
</span><span class="s3">//            AppLog.toastString(&quot;Net Not Available&quot;, getApplicationContext());</span><span class="s1"> 
</span><span class="s3">//        }</span><span class="s1"> 
</span><span class="s3">//    }</span><span class="s1"> 
 <hr class="ls0">    @Override 
    </span><span class="s0">protected void </span><span class="s1">onCreate</span><span class="s2">(</span><span class="s1">Bundle savedInstanceState</span><span class="s2">) {</span><span class="s1"> 
        </span><span class="s0">super</span><span class="s2">.</span><span class="s1">onCreate</span><span class="s2">(</span><span class="s1">savedInstanceState</span><span class="s2">);</span><span class="s1"> 
        setContentView</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">layout</span><span class="s2">.</span><span class="s1">dialogue_share_permission</span><span class="s2">);</span><span class="s1"> 
        data</span><span class="s2">();</span><span class="s1"> 
        findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">backBtnImg</span><span class="s2">).</span><span class="s1">setOnClickListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">OnClickListener</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">View v</span><span class="s2">) {</span><span class="s1"> 
                finish</span><span class="s2">();</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
        group </span><span class="s2">= (</span><span class="s1">RadioButton</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">checkBoxGroup</span><span class="s2">);</span><span class="s1"> 
        friend </span><span class="s2">= (</span><span class="s1">RadioButton</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">checkBoxFriend</span><span class="s2">);</span><span class="s1"> 
        forEveryone </span><span class="s2">= (</span><span class="s1">RadioButton</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">checkBoxPublic</span><span class="s2">);</span><span class="s1"> 
        Button go </span><span class="s2">= (</span><span class="s1">Button</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">go_permission</span><span class="s2">);</span><span class="s1"> 
        group</span><span class="s2">.</span><span class="s1">setOnClickListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">View</span><span class="s2">.</span><span class="s1">OnClickListener</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">View view</span><span class="s2">) {</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">forEveryone</span><span class="s2">.</span><span class="s1">isChecked</span><span class="s2">() || </span><span class="s1">friend</span><span class="s2">.</span><span class="s1">isChecked</span><span class="s2">()) {</span><span class="s1"> 
                    forEveryone</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
                    friend</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
                check_friend_list </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
                check_group_list </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
        friend</span><span class="s2">.</span><span class="s1">setOnClickListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">View</span><span class="s2">.</span><span class="s1">OnClickListener</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">View view</span><span class="s2">) {</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">forEveryone</span><span class="s2">.</span><span class="s1">isChecked</span><span class="s2">() || </span><span class="s1">group</span><span class="s2">.</span><span class="s1">isChecked</span><span class="s2">()) {</span><span class="s1"> 
                    forEveryone</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
                    group</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
                check_friend_list </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                check_group_list </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
        forEveryone</span><span class="s2">.</span><span class="s1">setOnClickListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">View</span><span class="s2">.</span><span class="s1">OnClickListener</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">View view</span><span class="s2">) {</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">friend</span><span class="s2">.</span><span class="s1">isChecked</span><span class="s2">() || </span><span class="s1">group</span><span class="s2">.</span><span class="s1">isChecked</span><span class="s2">()) {</span><span class="s1"> 
                    friend</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
                    group</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
                check_friend_list </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
                check_group_list </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
 
        go</span><span class="s2">.</span><span class="s1">setOnClickListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">View</span><span class="s2">.</span><span class="s1">OnClickListener</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">View view</span><span class="s2">) {</span><span class="s1"> 
                Progress</span><span class="s2">.</span><span class="s1">Show</span><span class="s2">(</span><span class="s1">context</span><span class="s2">);</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">check_friend_list </span><span class="s2">&amp;&amp; </span><span class="s1">friend</span><span class="s2">.</span><span class="s1">isChecked</span><span class="s2">()) {</span><span class="s1"> 
                    </span><span class="s0">new </span><span class="s1">Runnable</span><span class="s2">() {</span><span class="s1"> 
 
                        @Override 
                        </span><span class="s0">public void </span><span class="s1">run</span><span class="s2">() {</span><span class="s1"> 
                            </span><span class="s0">if </span><span class="s2">(</span><span class="s1">friendId</span><span class="s2">.</span><span class="s1">isEmpty</span><span class="s2">()) {</span><span class="s1"> 
                                </span><span class="s0">for </span><span class="s2">(</span><span class="s1">Friend frd </span><span class="s2">: </span><span class="s1">friendList</span><span class="s2">) {</span><span class="s1"> 
                                    friendId</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s1">frd</span><span class="s2">.</span><span class="s1">getFriendId</span><span class="s2">());</span><span class="s1"> 
                                </span><span class="s2">}</span><span class="s1"> 
                                permissionList</span><span class="s2">.</span><span class="s1">putString</span><span class="s2">(</span><span class="s4">&quot;friends_only&quot;</span><span class="s2">, </span><span class="s4">&quot;1&quot;</span><span class="s2">);</span><span class="s1"> 
                                permissionList</span><span class="s2">.</span><span class="s1">putString</span><span class="s2">(</span><span class="s4">&quot;case_type&quot;</span><span class="s2">, </span><span class="s4">&quot;4&quot;</span><span class="s2">);</span><span class="s1"> 
                            </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                                permissionList</span><span class="s2">.</span><span class="s1">putIntegerArrayList</span><span class="s2">(</span><span class="s4">&quot;users&quot;</span><span class="s2">, </span><span class="s1">friendId</span><span class="s2">);</span><span class="s1"> 
                                permissionList</span><span class="s2">.</span><span class="s1">putString</span><span class="s2">(</span><span class="s4">&quot;case_type&quot;</span><span class="s2">, </span><span class="s4">&quot;2&quot;</span><span class="s2">);</span><span class="s1"> 
                            </span><span class="s2">}</span><span class="s1"> 
 
                            Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                            setResult</span><span class="s2">(</span><span class="s1">REQUEST_CODE_FOR_SHARE</span><span class="s2">,</span><span class="s1"> 
                                    </span><span class="s0">new </span><span class="s1">Intent</span><span class="s2">().</span><span class="s1">putExtra</span><span class="s2">(</span><span class="s4">&quot;permission&quot;</span><span class="s2">, </span><span class="s1">permissionList</span><span class="s2">));</span><span class="s1"> 
                            finish</span><span class="s2">();</span><span class="s1"> 
                        </span><span class="s2">}</span><span class="s1"> 
                    </span><span class="s2">}.</span><span class="s1">run</span><span class="s2">();</span><span class="s1"> 
                </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">(</span><span class="s1">check_group_list </span><span class="s2">&amp;&amp; </span><span class="s1">group</span><span class="s2">.</span><span class="s1">isChecked</span><span class="s2">()) {</span><span class="s1"> 
                    </span><span class="s0">new </span><span class="s1">Runnable</span><span class="s2">() {</span><span class="s1"> 
 
                        @Override 
                        </span><span class="s0">public void </span><span class="s1">run</span><span class="s2">() {</span><span class="s1"> 
                            </span><span class="s0">if </span><span class="s2">(</span><span class="s1">groupId</span><span class="s2">.</span><span class="s1">isEmpty</span><span class="s2">()) {</span><span class="s1"> 
                                </span><span class="s0">for </span><span class="s2">(</span><span class="s1">Group frd </span><span class="s2">: </span><span class="s1">groupList</span><span class="s2">) {</span><span class="s1"> 
                                    groupId</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s1">frd</span><span class="s2">.</span><span class="s1">getGroupId</span><span class="s2">());</span><span class="s1"> 
                                </span><span class="s2">}</span><span class="s1"> 
                            </span><span class="s2">}</span><span class="s1"> 
                            permissionList</span><span class="s2">.</span><span class="s1">putString</span><span class="s2">(</span><span class="s4">&quot;case_type&quot;</span><span class="s2">, </span><span class="s4">&quot;3&quot;</span><span class="s2">);</span><span class="s1"> 
                            permissionList</span><span class="s2">.</span><span class="s1">putIntegerArrayList</span><span class="s2">(</span><span class="s4">&quot;groups&quot;</span><span class="s2">, </span><span class="s1">groupId</span><span class="s2">);</span><span class="s1"> 
                            Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                            setResult</span><span class="s2">(</span><span class="s1">REQUEST_CODE_FOR_SHARE</span><span class="s2">,</span><span class="s1"> 
                                    </span><span class="s0">new </span><span class="s1">Intent</span><span class="s2">().</span><span class="s1">putExtra</span><span class="s2">(</span><span class="s4">&quot;permission&quot;</span><span class="s2">, </span><span class="s1">permissionList</span><span class="s2">));</span><span class="s1"> 
                            finish</span><span class="s2">();</span><span class="s1"> 
                        </span><span class="s2">}</span><span class="s1"> 
                    </span><span class="s2">}.</span><span class="s1">run</span><span class="s2">();</span><span class="s1"> 
 
                </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                    </span><span class="s0">new </span><span class="s1">Runnable</span><span class="s2">() {</span><span class="s1"> 
 
                        @Override 
                        </span><span class="s0">public void </span><span class="s1">run</span><span class="s2">() {</span><span class="s1"> 
 
                            Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                            permissionList</span><span class="s2">.</span><span class="s1">putString</span><span class="s2">(</span><span class="s4">&quot;case_type&quot;</span><span class="s2">, </span><span class="s4">&quot;1&quot;</span><span class="s2">);</span><span class="s1"> 
                            permissionList</span><span class="s2">.</span><span class="s1">putString</span><span class="s2">(</span><span class="s4">&quot;public&quot;</span><span class="s2">, </span><span class="s4">&quot;1&quot;</span><span class="s2">);</span><span class="s1"> 
                            setResult</span><span class="s2">(</span><span class="s1">REQUEST_CODE_FOR_SHARE</span><span class="s2">,</span><span class="s1"> 
                                    </span><span class="s0">new </span><span class="s1">Intent</span><span class="s2">().</span><span class="s1">putExtra</span><span class="s2">(</span><span class="s4">&quot;permission&quot;</span><span class="s2">, </span><span class="s1">permissionList</span><span class="s2">));</span><span class="s1"> 
                            finish</span><span class="s2">();</span><span class="s1"> 
 
                        </span><span class="s2">}</span><span class="s1"> 
                    </span><span class="s2">}.</span><span class="s1">run</span><span class="s2">();</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
 
 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
        TextView title </span><span class="s2">= (</span><span class="s1">TextView</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">text_title_in_bar</span><span class="s2">);</span><span class="s1"> 
        title</span><span class="s2">.</span><span class="s1">setText</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">permission</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">public void </span><span class="s1">canceled</span><span class="s2">(</span><span class="s1">View paramView</span><span class="s2">) {</span><span class="s1"> 
        finish</span><span class="s2">();</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">void </span><span class="s1">data</span><span class="s2">() {</span><span class="s1"> 
        friendList </span><span class="s2">= </span><span class="s0">new </span><span class="s1">ArrayList</span><span class="s2">&lt;&gt;();</span><span class="s1"> 
        friendList</span><span class="s2">.</span><span class="s1">addAll</span><span class="s2">(</span><span class="s1">Friend</span><span class="s2">.</span><span class="s1">getAll</span><span class="s2">());</span><span class="s1"> 
        groupList </span><span class="s2">= </span><span class="s0">new </span><span class="s1">ArrayList</span><span class="s2">&lt;&gt;();</span><span class="s1"> 
        groupList</span><span class="s2">.</span><span class="s1">addAll</span><span class="s2">(</span><span class="s1">Group</span><span class="s2">.</span><span class="s1">getAll</span><span class="s2">());</span><span class="s1"> 
        groupList</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Group</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">friend_group_element</span><span class="s2">)</span><span class="s1"> 
                </span><span class="s2">, </span><span class="s1">Integer</span><span class="s2">.</span><span class="s1">parseInt</span><span class="s2">(</span><span class="s1">OBSession</span><span class="s2">.</span><span class="s1">getPreference</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">id_key</span><span class="s2">), </span><span class="s1">context</span><span class="s2">)), -</span><span class="s5">10</span><span class="s2">));</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">groupList</span><span class="s2">.</span><span class="s1">size</span><span class="s2">() &lt; </span><span class="s5">1</span><span class="s2">) {</span><span class="s1"> 
            body</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">user_id_key</span><span class="s2">), </span><span class="s1">OBSession</span><span class="s2">.</span><span class="s1">getPreference</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">id_key</span><span class="s2">)</span><span class="s1"> 
                    </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">()));</span><span class="s1"> 
            Progress</span><span class="s2">.</span><span class="s1">Show</span><span class="s2">(</span><span class="s0">this</span><span class="s2">);</span><span class="s1"> 
            callRequest </span><span class="s2">= </span><span class="s1">groupListRequest</span><span class="s2">.</span><span class="s1">getGroupList</span><span class="s2">(</span><span class="s1">body</span><span class="s2">);</span><span class="s1"> 
            callRequest</span><span class="s2">.</span><span class="s1">enqueue</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Callback</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt;() {</span><span class="s1"> 
                </span><span class="s0">public void </span><span class="s1">onFailure</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt; </span><span class="s1">callback 
                        </span><span class="s2">, </span><span class="s1">Throwable throwable</span><span class="s2">) {</span><span class="s1"> 
                    Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s1">getApplicationContext</span><span class="s2">(), </span><span class="s4">&quot;Net Not Available&quot;</span><span class="s1"> 
                            </span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_LONG</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                    Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
 
                </span><span class="s0">public void </span><span class="s1">onResponse</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt; </span><span class="s1">callback 
                        </span><span class="s2">, </span><span class="s1">Response</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt; </span><span class="s1">response</span><span class="s2">) {</span><span class="s1"> 
                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">() != </span><span class="s0">null </span><span class="s2">&amp;&amp; </span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">() == </span><span class="s5">200</span><span class="s2">) {</span><span class="s1"> 
                        groupList </span><span class="s2">= </span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getGroupList</span><span class="s2">();</span><span class="s1"> 
                        groupList</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Group</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">friend_group_element</span><span class="s2">)</span><span class="s1"> 
                                </span><span class="s2">, </span><span class="s1">Integer</span><span class="s2">.</span><span class="s1">parseInt</span><span class="s2">(</span><span class="s1">OBSession</span><span class="s2">.</span><span class="s1">getPreference</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">id_key</span><span class="s2">)</span><span class="s1"> 
                                </span><span class="s2">, </span><span class="s1">context</span><span class="s2">)), -</span><span class="s5">10</span><span class="s2">));</span><span class="s1"> 
                        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">friendList</span><span class="s2">.</span><span class="s1">size</span><span class="s2">() &lt; </span><span class="s5">1</span><span class="s2">) {</span><span class="s1"> 
                            callRequest </span><span class="s2">= </span><span class="s1">friendListRequest</span><span class="s2">.</span><span class="s1">getFriendList</span><span class="s2">(</span><span class="s1">body</span><span class="s2">);</span><span class="s1"> 
                            callRequest</span><span class="s2">.</span><span class="s1">enqueue</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Callback</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt;() {</span><span class="s1"> 
                                </span><span class="s0">public void </span><span class="s1">onFailure</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt; </span><span class="s1">call 
                                        </span><span class="s2">, </span><span class="s1">Throwable throwable</span><span class="s2">) {</span><span class="s1"> 
                                    Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s1">getApplicationContext</span><span class="s2">()</span><span class="s1"> 
                                            </span><span class="s2">, </span><span class="s4">&quot;Net Not Available&quot;</span><span class="s1"> 
                                            </span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_LONG</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                                    Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                                </span><span class="s2">}</span><span class="s1"> 
 
                                </span><span class="s0">public void </span><span class="s1">onResponse</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt; </span><span class="s1">call 
                                        </span><span class="s2">, </span><span class="s1">Response</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt; </span><span class="s1">response</span><span class="s2">) {</span><span class="s1"> 
                                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">() == </span><span class="s5">200 </span><span class="s2">&amp;&amp; </span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">() != </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
                                        </span><span class="s0">new </span><span class="s1">Delete</span><span class="s2">().</span><span class="s1">from</span><span class="s2">(</span><span class="s1">Friend</span><span class="s2">.</span><span class="s0">class</span><span class="s2">).</span><span class="s1">execute</span><span class="s2">();</span><span class="s1"> 
                                        ActiveAndroid</span><span class="s2">.</span><span class="s1">beginTransaction</span><span class="s2">();</span><span class="s1"> 
                                        </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
                                            </span><span class="s0">for </span><span class="s2">(</span><span class="s1">Friend temp </span><span class="s2">: </span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getFriendList</span><span class="s2">()) {</span><span class="s1"> 
                                                Friend item </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Friend</span><span class="s2">(</span><span class="s1">temp</span><span class="s2">);</span><span class="s1"> 
                                                item</span><span class="s2">.</span><span class="s1">save</span><span class="s2">();</span><span class="s1"> 
                                            </span><span class="s2">}</span><span class="s1"> 
                                            ActiveAndroid</span><span class="s2">.</span><span class="s1">setTransactionSuccessful</span><span class="s2">();</span><span class="s1"> 
                                        </span><span class="s2">} </span><span class="s0">finally </span><span class="s2">{</span><span class="s1"> 
                                            ActiveAndroid</span><span class="s2">.</span><span class="s1">endTransaction</span><span class="s2">();</span><span class="s1"> 
                                        </span><span class="s2">}</span><span class="s1"> 
                                    </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                                        AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;Server not Available&quot;</span><span class="s2">, </span><span class="s1">context</span><span class="s2">);</span><span class="s1"> 
                                    </span><span class="s2">}</span><span class="s1"> 
                                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">() == </span><span class="s5">200</span><span class="s2">) {</span><span class="s1"> 
                                        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">() != </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
                                            friendList </span><span class="s2">= </span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getFriendList</span><span class="s2">();</span><span class="s1"> 
                                        </span><span class="s2">}</span><span class="s1"> 
                                    </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                                        Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                                        Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s1">getApplicationContext</span><span class="s2">()</span><span class="s1"> 
                                                </span><span class="s2">, </span><span class="s4">&quot;Server Offline&quot;</span><span class="s1"> 
                                                </span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_LONG</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                                    </span><span class="s2">}</span><span class="s1"> 
                                    Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                                </span><span class="s2">}</span><span class="s1"> 
                            </span><span class="s2">});</span><span class="s1"> 
                        </span><span class="s2">} </span><span class="s0">else</span><span class="s1"> 
                            Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                    </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;ServerOffline&quot;</span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
 
                </span><span class="s2">}</span><span class="s1"> 
            </span><span class="s2">});</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    @Override 
    </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">View view</span><span class="s2">) {</span><span class="s1"> 
        </span><span class="s0">int </span><span class="s1">id </span><span class="s2">= </span><span class="s1">view</span><span class="s2">.</span><span class="s1">getId</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s0">final </span><span class="s1">MaterialDialog</span><span class="s2">.</span><span class="s1">Builder mb </span><span class="s2">= </span><span class="s0">new </span><span class="s1">MaterialDialog</span><span class="s2">.</span><span class="s1">Builder</span><span class="s2">(</span><span class="s0">this</span><span class="s2">);</span><span class="s1"> 
        mb</span><span class="s2">.</span><span class="s1">customView</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">layout</span><span class="s2">.</span><span class="s1">dialouge_list_view</span><span class="s2">, </span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
        mb</span><span class="s2">.</span><span class="s1">title</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">selection_list</span><span class="s2">));</span><span class="s1"> 
        mb</span><span class="s2">.</span><span class="s1">positiveText</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">selective</span><span class="s2">);</span><span class="s1"> 
        mb</span><span class="s2">.</span><span class="s1">negativeText</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">cancel_btn</span><span class="s2">);</span><span class="s1"> 
        mb</span><span class="s2">.</span><span class="s1">onNegative</span><span class="s2">(</span><span class="s0">new </span><span class="s1">MaterialDialog</span><span class="s2">.</span><span class="s1">SingleButtonCallback</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">@NonNull MaterialDialog dialog</span><span class="s2">, </span><span class="s1">@NonNull DialogAction which</span><span class="s2">) {</span><span class="s1"> 
                Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">cancel</span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                dialog</span><span class="s2">.</span><span class="s1">dismiss</span><span class="s2">();</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
        </span><span class="s0">final </span><span class="s1">MaterialDialog md </span><span class="s2">= </span><span class="s1">mb</span><span class="s2">.</span><span class="s1">build</span><span class="s2">();</span><span class="s1"> 
        RecyclerView rv </span><span class="s2">= (</span><span class="s1">RecyclerView</span><span class="s2">) </span><span class="s1">md</span><span class="s2">.</span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">dialog_rv_list</span><span class="s2">);</span><span class="s1"> 
        rv</span><span class="s2">.</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">View</span><span class="s2">.</span><span class="s1">VISIBLE</span><span class="s2">);</span><span class="s1"> 
        rv</span><span class="s2">.</span><span class="s1">setHasFixedSize</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span><span class="s1"> 
        rv</span><span class="s2">.</span><span class="s1">setAnimation</span><span class="s2">(</span><span class="s0">new </span><span class="s1">AnimationSet</span><span class="s2">(</span><span class="s0">true</span><span class="s2">));</span><span class="s1"> 
        rv</span><span class="s2">.</span><span class="s1">setLayoutManager</span><span class="s2">(</span><span class="s0">new </span><span class="s1">LinearLayoutManager</span><span class="s2">(</span><span class="s1">getApplicationContext</span><span class="s2">()));</span><span class="s1"> 
        </span><span class="s0">switch </span><span class="s2">(</span><span class="s1">id</span><span class="s2">) {</span><span class="s1"> 
            </span><span class="s0">case </span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">friend_select_list</span><span class="s2">:</span><span class="s1"> 
                </span><span class="s0">final </span><span class="s1">SelectionFriendAdapter adapterFriend</span><span class="s2">;</span><span class="s1"> 
                adapterFriend </span><span class="s2">= </span><span class="s0">new </span><span class="s1">SelectionFriendAdapter</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s1">friendList</span><span class="s2">);</span><span class="s1"> 
                rv</span><span class="s2">.</span><span class="s1">setAdapter</span><span class="s2">(</span><span class="s1">adapterFriend</span><span class="s2">);</span><span class="s1"> 
                mb</span><span class="s2">.</span><span class="s1">onPositive</span><span class="s2">(</span><span class="s0">new </span><span class="s1">MaterialDialog</span><span class="s2">.</span><span class="s1">SingleButtonCallback</span><span class="s2">() {</span><span class="s1"> 
                    @Override 
                    </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">@NonNull MaterialDialog dialog</span><span class="s2">, </span><span class="s1">@NonNull DialogAction which</span><span class="s2">) {</span><span class="s1"> 
                        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">friendId</span><span class="s2">.</span><span class="s1">isEmpty</span><span class="s2">()) </span><span class="s1">friendId</span><span class="s2">.</span><span class="s1">addAll</span><span class="s2">(</span><span class="s1">adapterFriend</span><span class="s2">.</span><span class="s1">checkedList</span><span class="s2">());</span><span class="s1"> 
                        </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                            friendId</span><span class="s2">.</span><span class="s1">clear</span><span class="s2">();</span><span class="s1"> 
                            friendId</span><span class="s2">.</span><span class="s1">addAll</span><span class="s2">(</span><span class="s1">adapterFriend</span><span class="s2">.</span><span class="s1">checkedList</span><span class="s2">());</span><span class="s1"> 
                        </span><span class="s2">}</span><span class="s1"> 
                        Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;TAG&quot;</span><span class="s2">, </span><span class="s4">&quot;onClick: &quot; </span><span class="s2">+ </span><span class="s1">friendId</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
                        friend</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span><span class="s1"> 
                        group</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
                        check_friend_list </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                        check_group_list </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
                        dialog</span><span class="s2">.</span><span class="s1">cancel</span><span class="s2">();</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s2">});</span><span class="s1"> 
                mb</span><span class="s2">.</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                </span><span class="s0">break</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s0">case </span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">group_select_list</span><span class="s2">:</span><span class="s1"> 
                </span><span class="s0">final </span><span class="s1">SelectionGroupAdapter adapterGroup</span><span class="s2">;</span><span class="s1"> 
                adapterGroup </span><span class="s2">= </span><span class="s0">new </span><span class="s1">SelectionGroupAdapter</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s1">groupList</span><span class="s2">);</span><span class="s1"> 
                rv</span><span class="s2">.</span><span class="s1">setAdapter</span><span class="s2">(</span><span class="s1">adapterGroup</span><span class="s2">);</span><span class="s1"> 
                mb</span><span class="s2">.</span><span class="s1">onPositive</span><span class="s2">(</span><span class="s0">new </span><span class="s1">MaterialDialog</span><span class="s2">.</span><span class="s1">SingleButtonCallback</span><span class="s2">() {</span><span class="s1"> 
                    @Override 
                    </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">@NonNull MaterialDialog dialog</span><span class="s2">, </span><span class="s1">@NonNull DialogAction which</span><span class="s2">) {</span><span class="s1"> 
                        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">groupId</span><span class="s2">.</span><span class="s1">isEmpty</span><span class="s2">()) </span><span class="s1">groupId</span><span class="s2">.</span><span class="s1">addAll</span><span class="s2">(</span><span class="s1">adapterGroup</span><span class="s2">.</span><span class="s1">checkedList</span><span class="s2">());</span><span class="s1"> 
                        </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                            groupId</span><span class="s2">.</span><span class="s1">clear</span><span class="s2">();</span><span class="s1"> 
                            groupId</span><span class="s2">.</span><span class="s1">addAll</span><span class="s2">(</span><span class="s1">adapterGroup</span><span class="s2">.</span><span class="s1">checkedList</span><span class="s2">());</span><span class="s1"> 
                        </span><span class="s2">}</span><span class="s1"> 
                        Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;TAG&quot;</span><span class="s2">, </span><span class="s4">&quot;onClick: &quot; </span><span class="s2">+ </span><span class="s1">groupId</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
                        group</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span><span class="s1"> 
                        friend</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
                        check_friend_list </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
                        check_group_list </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                        dialog</span><span class="s2">.</span><span class="s1">cancel</span><span class="s2">();</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s2">});</span><span class="s1"> 
                mb</span><span class="s2">.</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                </span><span class="s0">break</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s0">default</span><span class="s2">:</span><span class="s1"> 
                </span><span class="s0">break</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 
</span><span class="s2">}</span></pre>
</body>
</html>