<html>
<head>
<title>TagPermissionActivity.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: #2b91af; font-weight: normal; font-style: normal; }
.s0 { color: rgb(0,208,208); }
.s1 { color: rgb(208,208,208); }
.s2 { color: rgb(208,208,208); }
.s3 { color: rgb(0,224,0); }
.s4 { color: rgb(255,255,0); }
.s5 { color: rgb(220,120,220); }
.ls0 { height: 1px; border-width: 0; color: rgb(32,32,48); background-color:rgb(32,32,48)}
</style>
</head>
<BODY BGCOLOR="#101020">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
TagPermissionActivity.java</FONT>
</center></TD></TR></TABLE>
<pre>
<span class="s0">package </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">activities</span><span class="s2">.</span><span class="s1">permissions</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">content</span><span class="s2">.</span><span class="s1">Context</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">os</span><span class="s2">.</span><span class="s1">Bundle</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">support</span><span class="s2">.</span><span class="s1">annotation</span><span class="s2">.</span><span class="s1">NonNull</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">support</span><span class="s2">.</span><span class="s1">annotation</span><span class="s2">.</span><span class="s1">Nullable</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">support</span><span class="s2">.</span><span class="s1">v7</span><span class="s2">.</span><span class="s1">app</span><span class="s2">.</span><span class="s1">AppCompatActivity</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">support</span><span class="s2">.</span><span class="s1">v7</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">RecyclerView</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">view</span><span class="s2">.</span><span class="s1">View</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">CheckBox</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">CompoundButton</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">ListView</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">RadioButton</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">TextView</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">Toast</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">afollestad</span><span class="s2">.</span><span class="s1">materialdialogs</span><span class="s2">.</span><span class="s1">DialogAction</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">afollestad</span><span class="s2">.</span><span class="s1">materialdialogs</span><span class="s2">.</span><span class="s1">MaterialDialog</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">R</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">adapters</span><span class="s2">.</span><span class="s1">TagPermissionGroupAdapter</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">adapters</span><span class="s2">.</span><span class="s1">TagPermissionUserAdapter</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">helpers</span><span class="s2">.</span><span class="s1">Progress</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">intefaces</span><span class="s2">.</span><span class="s1">IGroups</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">intefaces</span><span class="s2">.</span><span class="s1">IRequests</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">intefaces</span><span class="s2">.</span><span class="s1">ITags</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">models</span><span class="s2">.</span><span class="s1">Group</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">models</span><span class="s2">.</span><span class="s1">ModelList</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">models</span><span class="s2">.</span><span class="s1">SearchUser</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">models</span><span class="s2">.</span><span class="s1">Status</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">AppLog</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">OBSession</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">OfficeBotURI</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">ArrayList</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">Arrays</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">HashMap</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">List</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">retrofit2</span><span class="s2">.</span><span class="s1">Call</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">retrofit2</span><span class="s2">.</span><span class="s1">Callback</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">retrofit2</span><span class="s2">.</span><span class="s1">Response</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">public class </span><span class="s1">TagPermissionActivity </span><span class="s0">extends </span><span class="s1">AppCompatActivity </span><span class="s2">{</span><span class="s1"> 
 
    </span><span class="s0">private final </span><span class="s1">IGroups groupListRequest </span><span class="s2">= </span><span class="s1">OfficeBotURI</span><span class="s2">.</span><span class="s1">retrofit</span><span class="s2">().</span><span class="s1">create</span><span class="s2">(</span><span class="s1">IGroups</span><span class="s2">.</span><span class="s0">class</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s0">private final </span><span class="s1">IRequests userListRequest </span><span class="s2">= </span><span class="s1">OfficeBotURI</span><span class="s2">.</span><span class="s1">retrofit</span><span class="s2">().</span><span class="s1">create</span><span class="s2">(</span><span class="s1">IRequests</span><span class="s2">.</span><span class="s0">class</span><span class="s2">);</span><span class="s1"> 
    Context context </span><span class="s2">= </span><span class="s0">this</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">ArrayList</span><span class="s2">&lt;</span><span class="s1">Integer</span><span class="s2">[]&gt; </span><span class="s1">groupId </span><span class="s2">= </span><span class="s0">new </span><span class="s1">ArrayList</span><span class="s2">&lt;&gt;(), </span><span class="s1">userId </span><span class="s2">= </span><span class="s0">new </span><span class="s1">ArrayList</span><span class="s2">&lt;&gt;();</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">List</span><span class="s2">&lt;</span><span class="s1">Group</span><span class="s2">&gt; </span><span class="s1">groupList</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">List</span><span class="s2">&lt;</span><span class="s1">SearchUser</span><span class="s2">&gt; </span><span class="s1">userList</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt; </span><span class="s1">callRequest</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">RadioButton checkedNonePublic</span><span class="s2">, </span><span class="s1">checkedRPublic</span><span class="s2">, </span><span class="s1">checkedRWPublic</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">CheckBox tagPermissionFriend</span><span class="s2">, </span><span class="s1">tagPermissionGroup</span><span class="s2">;</span><span class="s1"> 
 <hr class="ls0">    @Override 
    </span><span class="s0">protected void </span><span class="s1">onCreate</span><span class="s2">(</span><span class="s1">@Nullable Bundle savedInstanceState</span><span class="s2">) {</span><span class="s1"> 
        </span><span class="s0">super</span><span class="s2">.</span><span class="s1">onCreate</span><span class="s2">(</span><span class="s1">savedInstanceState</span><span class="s2">);</span><span class="s1"> 
        setContentView</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">layout</span><span class="s2">.</span><span class="s1">activity_tag_permission</span><span class="s2">);</span><span class="s1"> 
        data</span><span class="s2">();</span><span class="s1"> 
        setUi</span><span class="s2">();</span><span class="s1"> 
        setListener</span><span class="s2">();</span><span class="s1"> 
 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">private void </span><span class="s1">setListener</span><span class="s2">() {</span><span class="s1"> 
        checkedNonePublic</span><span class="s2">.</span><span class="s1">setOnCheckedChangeListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">CompoundButton</span><span class="s2">.</span><span class="s1">OnCheckedChangeListener</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onCheckedChanged</span><span class="s2">(</span><span class="s1">CompoundButton buttonView</span><span class="s2">, </span><span class="s0">boolean </span><span class="s1">isChecked</span><span class="s2">) {</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">isChecked</span><span class="s2">) {</span><span class="s1"> 
                    checkedRPublic</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
                    checkedRWPublic</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
                </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                    checkedNonePublic</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
</span><span class="s3">//                    checkedNonePublic.toggle();</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
        checkedRPublic</span><span class="s2">.</span><span class="s1">setOnCheckedChangeListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">CompoundButton</span><span class="s2">.</span><span class="s1">OnCheckedChangeListener</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onCheckedChanged</span><span class="s2">(</span><span class="s1">CompoundButton buttonView</span><span class="s2">, </span><span class="s0">boolean </span><span class="s1">isChecked</span><span class="s2">) {</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">isChecked</span><span class="s2">) {</span><span class="s1"> 
                    checkedNonePublic</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
                    checkedRWPublic</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
                </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                    checkedRPublic</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
</span><span class="s3">//                    checkedRPublic.toggle();</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
        checkedRWPublic</span><span class="s2">.</span><span class="s1">setOnCheckedChangeListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">CompoundButton</span><span class="s2">.</span><span class="s1">OnCheckedChangeListener</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onCheckedChanged</span><span class="s2">(</span><span class="s1">CompoundButton buttonView</span><span class="s2">, </span><span class="s0">boolean </span><span class="s1">isChecked</span><span class="s2">) {</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">isChecked</span><span class="s2">) {</span><span class="s1"> 
                    checkedRPublic</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
                    checkedNonePublic</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
                </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                    checkedRWPublic</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
</span><span class="s3">//                    checkedRWPublic.toggle();</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
 
 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">public void </span><span class="s1">cancelPermission</span><span class="s2">(</span><span class="s1">View view</span><span class="s2">) {</span><span class="s1"> 
        finish</span><span class="s2">();</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">public void </span><span class="s1">setPermissionTag</span><span class="s2">(</span><span class="s1">View view</span><span class="s2">) {</span><span class="s1"> 
        HashMap</span><span class="s2">&lt;</span><span class="s1">String</span><span class="s2">, </span><span class="s1">Object</span><span class="s2">&gt; </span><span class="s1">map </span><span class="s2">= </span><span class="s0">new </span><span class="s1">HashMap</span><span class="s2">&lt;&gt;();</span><span class="s1"> 
        ITags iTagPermission </span><span class="s2">= </span><span class="s1">OfficeBotURI</span><span class="s2">.</span><span class="s1">retrofit</span><span class="s2">().</span><span class="s1">create</span><span class="s2">(</span><span class="s1">ITags</span><span class="s2">.</span><span class="s0">class</span><span class="s2">);</span><span class="s1"> 
        map</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">tag_id_key</span><span class="s2">), </span><span class="s1">getIntent</span><span class="s2">().</span><span class="s1">getIntExtra</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">tag_id_key</span><span class="s2">), </span><span class="s4">0</span><span class="s2">));</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">checkedNonePublic</span><span class="s2">.</span><span class="s1">isChecked</span><span class="s2">())</span><span class="s1"> 
            map</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">permission_id_key</span><span class="s2">), </span><span class="s4">4</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s0">else if </span><span class="s2">(</span><span class="s1">checkedRPublic</span><span class="s2">.</span><span class="s1">isChecked</span><span class="s2">())</span><span class="s1"> 
            map</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">permission_id_key</span><span class="s2">), </span><span class="s4">1</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s0">else if </span><span class="s2">(</span><span class="s1">checkedRWPublic</span><span class="s2">.</span><span class="s1">isChecked</span><span class="s2">())</span><span class="s1"> 
            map</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">permission_id_key</span><span class="s2">), </span><span class="s4">3</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">tagPermissionGroup</span><span class="s2">.</span><span class="s1">isChecked</span><span class="s2">() &amp;&amp; </span><span class="s1">tagPermissionFriend</span><span class="s2">.</span><span class="s1">isChecked</span><span class="s2">()) {</span><span class="s1"> 
            map</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">permission_case_key</span><span class="s2">), </span><span class="s4">6</span><span class="s2">);</span><span class="s1"> 
            map</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">users_integer_key</span><span class="s2">), </span><span class="s1">userId</span><span class="s2">);</span><span class="s1"> 
            map</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">groups_integers_key</span><span class="s2">), </span><span class="s1">groupId</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">(</span><span class="s1">tagPermissionGroup</span><span class="s2">.</span><span class="s1">isChecked</span><span class="s2">()) {</span><span class="s1"> 
            map</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">permission_case_key</span><span class="s2">), </span><span class="s4">5</span><span class="s2">);</span><span class="s1"> 
            map</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">groups_integers_key</span><span class="s2">), </span><span class="s1">groupId</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">(</span><span class="s1">tagPermissionFriend</span><span class="s2">.</span><span class="s1">isChecked</span><span class="s2">()) {</span><span class="s1"> 
            map</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">permission_case_key</span><span class="s2">), </span><span class="s4">4</span><span class="s2">);</span><span class="s1"> 
            map</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">users_integer_key</span><span class="s2">), </span><span class="s1">userId</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
            map</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">permission_case_key</span><span class="s2">), </span><span class="s4">1</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">map</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
        Progress</span><span class="s2">.</span><span class="s1">Show</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s5">&quot;setting Permission..&quot;</span><span class="s2">);</span><span class="s1"> 
        Call</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">callSetPer </span><span class="s2">= </span><span class="s1">iTagPermission</span><span class="s2">.</span><span class="s1">setPermissionForTag</span><span class="s2">(</span><span class="s1">map</span><span class="s2">);</span><span class="s1"> 
        callSetPer</span><span class="s2">.</span><span class="s1">enqueue</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Callback</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt;() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onResponse</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">call</span><span class="s2">, </span><span class="s1">Response</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">response</span><span class="s2">) {</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">() == </span><span class="s4">200</span><span class="s2">) {</span><span class="s1"> 
                    AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s5">&quot;Permission Set&quot;</span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                    AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">message</span><span class="s2">() + </span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">(), </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
                Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                finish</span><span class="s2">();</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onFailure</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">call</span><span class="s2">, </span><span class="s1">Throwable t</span><span class="s2">) {</span><span class="s1"> 
                AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s1">t</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">(), </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                finish</span><span class="s2">();</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">void </span><span class="s1">data</span><span class="s2">() {</span><span class="s1"> 
        userList </span><span class="s2">= </span><span class="s0">new </span><span class="s1">ArrayList</span><span class="s2">&lt;&gt;();</span><span class="s1"> 
        userList</span><span class="s2">.</span><span class="s1">addAll</span><span class="s2">(</span><span class="s1">SearchUser</span><span class="s2">.</span><span class="s1">getAll</span><span class="s2">());</span><span class="s1"> 
        groupList </span><span class="s2">= </span><span class="s0">new </span><span class="s1">ArrayList</span><span class="s2">&lt;&gt;();</span><span class="s1"> 
        groupList</span><span class="s2">.</span><span class="s1">addAll</span><span class="s2">(</span><span class="s1">Group</span><span class="s2">.</span><span class="s1">getAll</span><span class="s2">());</span><span class="s1"> 
        groupList</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Group</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">friend_group_element</span><span class="s2">)</span><span class="s1"> 
                </span><span class="s2">, </span><span class="s1">Integer</span><span class="s2">.</span><span class="s1">parseInt</span><span class="s2">(</span><span class="s1">OBSession</span><span class="s2">.</span><span class="s1">getPreference</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">id_key</span><span class="s2">), </span><span class="s1">context</span><span class="s2">)), -</span><span class="s4">10</span><span class="s2">));</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">groupList</span><span class="s2">.</span><span class="s1">size</span><span class="s2">() &lt; </span><span class="s4">1</span><span class="s2">) {</span><span class="s1"> 
            </span><span class="s0">final </span><span class="s1">HashMap</span><span class="s2">&lt;</span><span class="s1">String</span><span class="s2">, </span><span class="s1">Object</span><span class="s2">&gt; </span><span class="s1">body </span><span class="s2">= </span><span class="s0">new </span><span class="s1">HashMap</span><span class="s2">&lt;&gt;();</span><span class="s1"> 
            body</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">user_id_key</span><span class="s2">), </span><span class="s1">OBSession</span><span class="s2">.</span><span class="s1">getPreference</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">id_key</span><span class="s2">)</span><span class="s1"> 
                    </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">()));</span><span class="s1"> 
            Progress</span><span class="s2">.</span><span class="s1">Show</span><span class="s2">(</span><span class="s0">this</span><span class="s2">);</span><span class="s1"> 
            callRequest </span><span class="s2">= </span><span class="s1">groupListRequest</span><span class="s2">.</span><span class="s1">getGroupList</span><span class="s2">(</span><span class="s1">body</span><span class="s2">);</span><span class="s1"> 
            callRequest</span><span class="s2">.</span><span class="s1">enqueue</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Callback</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt;() {</span><span class="s1"> 
                </span><span class="s0">public void </span><span class="s1">onFailure</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt; </span><span class="s1">callback 
                        </span><span class="s2">, </span><span class="s1">Throwable t</span><span class="s2">) {</span><span class="s1"> 
                    AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s5">&quot;Net Not Available&quot; </span><span class="s2">+ </span><span class="s1">t</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">(), </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                    Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
 
                </span><span class="s0">public void </span><span class="s1">onResponse</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt; </span><span class="s1">callback 
                        </span><span class="s2">, </span><span class="s1">Response</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt; </span><span class="s1">response</span><span class="s2">) {</span><span class="s1"> 
                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">() != </span><span class="s0">null </span><span class="s2">&amp;&amp; </span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">() == </span><span class="s4">200</span><span class="s2">) {</span><span class="s1"> 
                        groupList </span><span class="s2">= </span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getGroupList</span><span class="s2">();</span><span class="s1"> 
                        groupList</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Group</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">friend_group_element</span><span class="s2">)</span><span class="s1"> 
                                </span><span class="s2">, </span><span class="s1">Integer</span><span class="s2">.</span><span class="s1">parseInt</span><span class="s2">(</span><span class="s1">OBSession</span><span class="s2">.</span><span class="s1">getPreference</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">id_key</span><span class="s2">), </span><span class="s1">context</span><span class="s2">)), -</span><span class="s4">10</span><span class="s2">));</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">userList</span><span class="s2">.</span><span class="s1">size</span><span class="s2">() &lt; </span><span class="s4">1</span><span class="s2">) {</span><span class="s1"> 
                        body</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">name_key</span><span class="s2">), </span><span class="s5">&quot;&quot;</span><span class="s2">);</span><span class="s1"> 
                        callRequest </span><span class="s2">= </span><span class="s1">userListRequest</span><span class="s2">.</span><span class="s1">getSearchUserList</span><span class="s2">(</span><span class="s1">body</span><span class="s2">);</span><span class="s1"> 
                        callRequest</span><span class="s2">.</span><span class="s1">enqueue</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Callback</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt;() {</span><span class="s1"> 
                            </span><span class="s0">public void </span><span class="s1">onFailure</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt; </span><span class="s1">callback1 
                                    </span><span class="s2">, </span><span class="s1">Throwable t</span><span class="s2">) {</span><span class="s1"> 
                                AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s1">t</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">(), </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                                Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                            </span><span class="s2">}</span><span class="s1"> 
 
                            </span><span class="s0">public void </span><span class="s1">onResponse</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt; </span><span class="s1">call 
                                    </span><span class="s2">, </span><span class="s1">Response</span><span class="s2">&lt;</span><span class="s1">ModelList</span><span class="s2">&gt; </span><span class="s1">response</span><span class="s2">) {</span><span class="s1"> 
                                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">() != </span><span class="s0">null </span><span class="s2">&amp;&amp; </span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">() == </span><span class="s4">200</span><span class="s2">) {</span><span class="s1"> 
                                    userList </span><span class="s2">= </span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getUserList</span><span class="s2">();</span><span class="s1"> 
                                </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                                    AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s5">&quot;Error&quot; </span><span class="s2">+ </span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">(), </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                                </span><span class="s2">}</span><span class="s1"> 
                                Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                            </span><span class="s2">}</span><span class="s1"> 
                        </span><span class="s2">});</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
            </span><span class="s2">});</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">void </span><span class="s1">setUi</span><span class="s2">() {</span><span class="s1"> 
</span><span class="s3">//        TextView tagGroupSelectList = (TextView) findViewById(R.id.tag_group_select_list);</span><span class="s1"> 
        tagPermissionGroup </span><span class="s2">= (</span><span class="s1">CheckBox</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">tag_permission_group</span><span class="s2">);</span><span class="s1"> 
</span><span class="s3">//        TextView tagFriendSelectList = (TextView) findViewById(R.id.tag_friend_select_list);</span><span class="s1"> 
        tagPermissionFriend </span><span class="s2">= (</span><span class="s1">CheckBox</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">tag_permission_friend</span><span class="s2">);</span><span class="s1"> 
        checkedRWPublic </span><span class="s2">= (</span><span class="s1">RadioButton</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">checked_r_w_public</span><span class="s2">);</span><span class="s1"> 
        checkedRPublic </span><span class="s2">= (</span><span class="s1">RadioButton</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">checked_r_public</span><span class="s2">);</span><span class="s1"> 
        checkedNonePublic </span><span class="s2">= (</span><span class="s1">RadioButton</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">checked_none_public</span><span class="s2">);</span><span class="s1"> 
        findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">backBtnImg</span><span class="s2">).</span><span class="s1">setOnClickListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">View</span><span class="s2">.</span><span class="s1">OnClickListener</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">View v</span><span class="s2">) {</span><span class="s1"> 
                finish</span><span class="s2">();</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
        TextView title </span><span class="s2">= (</span><span class="s1">TextView</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">text_title_in_bar</span><span class="s2">);</span><span class="s1"> 
        title</span><span class="s2">.</span><span class="s1">setText</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">permission</span><span class="s2">);</span><span class="s1"> 
        checkedRPublic</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">View view</span><span class="s2">) {</span><span class="s1"> 
        </span><span class="s0">int </span><span class="s1">id </span><span class="s2">= </span><span class="s1">view</span><span class="s2">.</span><span class="s1">getId</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s0">final </span><span class="s1">MaterialDialog</span><span class="s2">.</span><span class="s1">Builder mb </span><span class="s2">= </span><span class="s0">new </span><span class="s1">MaterialDialog</span><span class="s2">.</span><span class="s1">Builder</span><span class="s2">(</span><span class="s0">this</span><span class="s2">);</span><span class="s1"> 
        mb</span><span class="s2">.</span><span class="s1">customView</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">layout</span><span class="s2">.</span><span class="s1">dialouge_list_view</span><span class="s2">, </span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
        mb</span><span class="s2">.</span><span class="s1">title</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">selection_list</span><span class="s2">));</span><span class="s1"> 
        mb</span><span class="s2">.</span><span class="s1">positiveText</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">selective</span><span class="s2">);</span><span class="s1"> 
        mb</span><span class="s2">.</span><span class="s1">negativeText</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">cancel_btn</span><span class="s2">);</span><span class="s1"> 
        mb</span><span class="s2">.</span><span class="s1">onNegative</span><span class="s2">(</span><span class="s0">new </span><span class="s1">MaterialDialog</span><span class="s2">.</span><span class="s1">SingleButtonCallback</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">@NonNull MaterialDialog dialog</span><span class="s2">, </span><span class="s1">@NonNull DialogAction which</span><span class="s2">) {</span><span class="s1"> 
                Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">cancel</span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                dialog</span><span class="s2">.</span><span class="s1">dismiss</span><span class="s2">();</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
        </span><span class="s0">final </span><span class="s1">MaterialDialog md </span><span class="s2">= </span><span class="s1">mb</span><span class="s2">.</span><span class="s1">build</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s0">final </span><span class="s1">RecyclerView rv</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s0">final </span><span class="s1">ListView lv</span><span class="s2">;</span><span class="s1"> 
        rv </span><span class="s2">= (</span><span class="s1">RecyclerView</span><span class="s2">) </span><span class="s1">md</span><span class="s2">.</span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">dialog_rv_list</span><span class="s2">);</span><span class="s1"> 
        lv </span><span class="s2">= (</span><span class="s1">ListView</span><span class="s2">) </span><span class="s1">md</span><span class="s2">.</span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">dialog_lv_for_tag</span><span class="s2">);</span><span class="s1"> 
        lv</span><span class="s2">.</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">View</span><span class="s2">.</span><span class="s1">VISIBLE</span><span class="s2">);</span><span class="s1"> 
        rv</span><span class="s2">.</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">View</span><span class="s2">.</span><span class="s1">GONE</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s0">switch </span><span class="s2">(</span><span class="s1">id</span><span class="s2">) {</span><span class="s1"> 
 
            </span><span class="s0">case </span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">tag_friend_select_list</span><span class="s2">:</span><span class="s1"> 
                </span><span class="s0">final </span><span class="s1">TagPermissionUserAdapter adapter</span><span class="s2">;</span><span class="s1"> 
                adapter </span><span class="s2">= </span><span class="s0">new </span><span class="s1">TagPermissionUserAdapter</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s1">userList</span><span class="s2">);</span><span class="s1"> 
                lv</span><span class="s2">.</span><span class="s1">setAdapter</span><span class="s2">(</span><span class="s1">adapter</span><span class="s2">);</span><span class="s1"> 
                mb</span><span class="s2">.</span><span class="s1">onPositive</span><span class="s2">(</span><span class="s0">new </span><span class="s1">MaterialDialog</span><span class="s2">.</span><span class="s1">SingleButtonCallback</span><span class="s2">() {</span><span class="s1"> 
                    @Override 
                    </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">@NonNull </span><span class="s0">final </span><span class="s1">MaterialDialog dialog</span><span class="s2">, </span><span class="s1">@NonNull DialogAction which</span><span class="s2">) {</span><span class="s1"> 
                        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">userId</span><span class="s2">.</span><span class="s1">isEmpty</span><span class="s2">()) </span><span class="s1">userId</span><span class="s2">.</span><span class="s1">addAll</span><span class="s2">(</span><span class="s1">adapter</span><span class="s2">.</span><span class="s1">checkedList</span><span class="s2">());</span><span class="s1"> 
                        </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                            userId</span><span class="s2">.</span><span class="s1">clear</span><span class="s2">();</span><span class="s1"> 
                            userId</span><span class="s2">.</span><span class="s1">addAll</span><span class="s2">(</span><span class="s1">adapter</span><span class="s2">.</span><span class="s1">checkedList</span><span class="s2">());</span><span class="s1"> 
                        </span><span class="s2">}</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">Arrays</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">(</span><span class="s1">userId</span><span class="s2">.</span><span class="s1">toArray</span><span class="s2">()));</span><span class="s1"> 
                        tagPermissionFriend</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span><span class="s1"> 
                        dialog</span><span class="s2">.</span><span class="s1">cancel</span><span class="s2">();</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s2">});</span><span class="s1"> 
                mb</span><span class="s2">.</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                </span><span class="s0">break</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s0">case </span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">tag_group_select_list</span><span class="s2">:</span><span class="s1"> 
                </span><span class="s0">final </span><span class="s1">TagPermissionGroupAdapter adapterGroup</span><span class="s2">;</span><span class="s1"> 
                adapterGroup </span><span class="s2">= </span><span class="s0">new </span><span class="s1">TagPermissionGroupAdapter</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s1">groupList</span><span class="s2">);</span><span class="s1"> 
                lv</span><span class="s2">.</span><span class="s1">setAdapter</span><span class="s2">(</span><span class="s1">adapterGroup</span><span class="s2">);</span><span class="s1"> 
                mb</span><span class="s2">.</span><span class="s1">onPositive</span><span class="s2">(</span><span class="s0">new </span><span class="s1">MaterialDialog</span><span class="s2">.</span><span class="s1">SingleButtonCallback</span><span class="s2">() {</span><span class="s1"> 
                    @Override 
                    </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">@NonNull MaterialDialog dialog</span><span class="s2">, </span><span class="s1">@NonNull DialogAction which</span><span class="s2">) {</span><span class="s1"> 
                        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">groupId</span><span class="s2">.</span><span class="s1">isEmpty</span><span class="s2">()) </span><span class="s1">groupId</span><span class="s2">.</span><span class="s1">addAll</span><span class="s2">(</span><span class="s1">adapterGroup</span><span class="s2">.</span><span class="s1">checkedList</span><span class="s2">());</span><span class="s1"> 
                        </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                            groupId</span><span class="s2">.</span><span class="s1">clear</span><span class="s2">();</span><span class="s1"> 
                            groupId</span><span class="s2">.</span><span class="s1">addAll</span><span class="s2">(</span><span class="s1">adapterGroup</span><span class="s2">.</span><span class="s1">checkedList</span><span class="s2">());</span><span class="s1"> 
                        </span><span class="s2">}</span><span class="s1"> 
                        tagPermissionGroup</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span><span class="s1"> 
                        dialog</span><span class="s2">.</span><span class="s1">cancel</span><span class="s2">();</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s2">});</span><span class="s1"> 
                mb</span><span class="s2">.</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                </span><span class="s0">break</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 
</span><span class="s2">}</span></pre>
</body>
</html>