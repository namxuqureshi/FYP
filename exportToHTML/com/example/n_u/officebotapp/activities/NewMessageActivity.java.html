<html>
<head>
<title>NewMessageActivity.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: #2b91af; font-weight: normal; font-style: normal; }
.s0 { color: rgb(0,208,208); }
.s1 { color: rgb(208,208,208); }
.s2 { color: rgb(208,208,208); }
.s3 { color: rgb(255,255,0); }
.s4 { color: rgb(220,120,220); }
.s5 { color: rgb(0,224,0); }
.ls0 { height: 1px; border-width: 0; color: rgb(32,32,48); background-color:rgb(32,32,48)}
</style>
</head>
<BODY BGCOLOR="#101020">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
NewMessageActivity.java</FONT>
</center></TD></TR></TABLE>
<pre>
<span class="s0">package </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">activities</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">annotation</span><span class="s2">.</span><span class="s1">TargetApi</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">content</span><span class="s2">.</span><span class="s1">Intent</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">media</span><span class="s2">.</span><span class="s1">MediaRecorder</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">os</span><span class="s2">.</span><span class="s1">Build</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">os</span><span class="s2">.</span><span class="s1">Bundle</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">support</span><span class="s2">.</span><span class="s1">annotation</span><span class="s2">.</span><span class="s1">NonNull</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">support</span><span class="s2">.</span><span class="s1">annotation</span><span class="s2">.</span><span class="s1">RequiresApi</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">Log</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">view</span><span class="s2">.</span><span class="s1">LayoutInflater</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">view</span><span class="s2">.</span><span class="s1">MotionEvent</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">view</span><span class="s2">.</span><span class="s1">View</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">view</span><span class="s2">.</span><span class="s1">View</span><span class="s2">.</span><span class="s1">OnClickListener</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">view</span><span class="s2">.</span><span class="s1">View</span><span class="s2">.</span><span class="s1">OnTouchListener</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">view</span><span class="s2">.</span><span class="s1">ViewPropertyAnimator</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">Button</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">CheckBox</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">CompoundButton</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">CompoundButton</span><span class="s2">.</span><span class="s1">OnCheckedChangeListener</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">EditText</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">TextView</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">android</span><span class="s2">.</span><span class="s1">widget</span><span class="s2">.</span><span class="s1">Toast</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">afollestad</span><span class="s2">.</span><span class="s1">materialdialogs</span><span class="s2">.</span><span class="s1">DialogAction</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">afollestad</span><span class="s2">.</span><span class="s1">materialdialogs</span><span class="s2">.</span><span class="s1">MaterialDialog</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">dewarder</span><span class="s2">.</span><span class="s1">holdinglibrary</span><span class="s2">.</span><span class="s1">HoldingButtonLayout</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">dewarder</span><span class="s2">.</span><span class="s1">holdinglibrary</span><span class="s2">.</span><span class="s1">HoldingButtonLayoutListener</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">R</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">activities</span><span class="s2">.</span><span class="s1">permissions</span><span class="s2">.</span><span class="s1">DoNotSharePermissionActivity</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">activities</span><span class="s2">.</span><span class="s1">permissions</span><span class="s2">.</span><span class="s1">SharePermissionActivity</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">helpers</span><span class="s2">.</span><span class="s1">Progress</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">intefaces</span><span class="s2">.</span><span class="s1">IMessages</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">models</span><span class="s2">.</span><span class="s1">Message</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">models</span><span class="s2">.</span><span class="s1">Status</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">models</span><span class="s2">.</span><span class="s1">Tag</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">services</span><span class="s2">.</span><span class="s1">OfflineNotePostService</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">AppLog</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">InternetConnection</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">OBSession</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">utils</span><span class="s2">.</span><span class="s1">OfficeBotURI</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">viewsholders</span><span class="s2">.</span><span class="s1">NewMessageHolder</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">fastaccess</span><span class="s2">.</span><span class="s1">datetimepicker</span><span class="s2">.</span><span class="s1">DatePickerFragmentDialog</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">fastaccess</span><span class="s2">.</span><span class="s1">datetimepicker</span><span class="s2">.</span><span class="s1">DateTimeBuilder</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">fastaccess</span><span class="s2">.</span><span class="s1">datetimepicker</span><span class="s2">.</span><span class="s1">callback</span><span class="s2">.</span><span class="s1">DatePickerCallback</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">fastaccess</span><span class="s2">.</span><span class="s1">datetimepicker</span><span class="s2">.</span><span class="s1">callback</span><span class="s2">.</span><span class="s1">TimePickerCallback</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">github</span><span class="s2">.</span><span class="s1">angads25</span><span class="s2">.</span><span class="s1">filepicker</span><span class="s2">.</span><span class="s1">controller</span><span class="s2">.</span><span class="s1">DialogSelectionListener</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">github</span><span class="s2">.</span><span class="s1">angads25</span><span class="s2">.</span><span class="s1">filepicker</span><span class="s2">.</span><span class="s1">model</span><span class="s2">.</span><span class="s1">DialogConfigs</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">github</span><span class="s2">.</span><span class="s1">angads25</span><span class="s2">.</span><span class="s1">filepicker</span><span class="s2">.</span><span class="s1">model</span><span class="s2">.</span><span class="s1">DialogProperties</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">com</span><span class="s2">.</span><span class="s1">github</span><span class="s2">.</span><span class="s1">angads25</span><span class="s2">.</span><span class="s1">filepicker</span><span class="s2">.</span><span class="s1">view</span><span class="s2">.</span><span class="s1">FilePickerDialog</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">io</span><span class="s2">.</span><span class="s1">File</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">io</span><span class="s2">.</span><span class="s1">FileInputStream</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">io</span><span class="s2">.</span><span class="s1">FileOutputStream</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">io</span><span class="s2">.</span><span class="s1">IOException</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">nio</span><span class="s2">.</span><span class="s1">channels</span><span class="s2">.</span><span class="s1">FileChannel</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">text</span><span class="s2">.</span><span class="s1">DateFormat</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">Arrays</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">Calendar</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">Date</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">HashMap</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">Locale</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">Objects</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import </span><span class="s1">okhttp3</span><span class="s2">.</span><span class="s1">MediaType</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">okhttp3</span><span class="s2">.</span><span class="s1">MultipartBody</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">okhttp3</span><span class="s2">.</span><span class="s1">RequestBody</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">onactivityresult</span><span class="s2">.</span><span class="s1">ActivityResult</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">onactivityresult</span><span class="s2">.</span><span class="s1">OnActivityResult</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">retrofit2</span><span class="s2">.</span><span class="s1">Call</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">retrofit2</span><span class="s2">.</span><span class="s1">Callback</span><span class="s2">;</span><span class="s1"> 
</span><span class="s0">import </span><span class="s1">retrofit2</span><span class="s2">.</span><span class="s1">Response</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">import static </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">n_u</span><span class="s2">.</span><span class="s1">officebotapp</span><span class="s2">.</span><span class="s1">activities</span><span class="s2">.</span><span class="s1">ScanTagActivity</span><span class="s2">.</span><span class="s1">S_NAME</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">public class </span><span class="s1">NewMessageActivity 
        </span><span class="s0">extends </span><span class="s1">NavigationActivity 
        </span><span class="s0">implements </span><span class="s1">OnClickListener</span><span class="s2">, </span><span class="s1">OnTouchListener</span><span class="s2">, </span><span class="s1">DatePickerCallback</span><span class="s2">, </span><span class="s1">TimePickerCallback</span><span class="s2">, </span><span class="s1">HoldingButtonLayoutListener </span><span class="s2">{</span><span class="s1"> 
    </span><span class="s0">public static final int </span><span class="s1">REQUEST_CODE_FOR_DO_NOT_SHARE </span><span class="s2">= </span><span class="s3">2</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">public static final int </span><span class="s1">REQUEST_CODE_FOR_SHARE </span><span class="s2">= </span><span class="s3">1</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">MultipartBody</span><span class="s2">.</span><span class="s1">Part bodyAudio </span><span class="s2">= </span><span class="s0">null</span><span class="s2">, </span><span class="s1">bodyFile </span><span class="s2">= </span><span class="s0">null</span><span class="s2">, </span><span class="s1">bodyAudioTemp </span><span class="s2">= </span><span class="s0">null</span><span class="s2">, </span><span class="s1">bodyFileTemp </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">String timeOutTemp</span><span class="s2">, </span><span class="s1">caseTypeTemp</span><span class="s2">, </span><span class="s1">casePublic</span><span class="s2">, </span><span class="s1">tempFilePath</span><span class="s2">, </span><span class="s1">tempAudioPath</span><span class="s2">, </span><span class="s1">fileAudioSource </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">Bundle bundle </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Bundle</span><span class="s2">();</span><span class="s1"> 
    </span><span class="s0">private boolean </span><span class="s1">caseEight </span><span class="s2">= </span><span class="s0">false</span><span class="s2">, </span><span class="s1">caseElevDs </span><span class="s2">= </span><span class="s0">false</span><span class="s2">, </span><span class="s1">caseElevS </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private boolean </span><span class="s1">caseForDs </span><span class="s2">= </span><span class="s0">false</span><span class="s2">, </span><span class="s1">caseForS </span><span class="s2">= </span><span class="s0">false</span><span class="s2">, </span><span class="s1">caseNineDs </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private boolean </span><span class="s1">caseNineS </span><span class="s2">= </span><span class="s0">false</span><span class="s2">, </span><span class="s1">caseSeven </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private boolean </span><span class="s1">caseTenDs </span><span class="s2">= </span><span class="s0">false</span><span class="s2">, </span><span class="s1">caseTenS </span><span class="s2">= </span><span class="s0">false</span><span class="s2">, </span><span class="s1">caseTewDs </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private boolean </span><span class="s1">caseTewS </span><span class="s2">= </span><span class="s0">false</span><span class="s2">, </span><span class="s1">caseTheDs </span><span class="s2">= </span><span class="s0">false</span><span class="s2">, </span><span class="s1">caseTheS </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private boolean </span><span class="s1">publicFlag </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">MediaRecorder recorder </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">HashMap</span><span class="s2">&lt;</span><span class="s1">String</span><span class="s2">, </span><span class="s1">Object</span><span class="s2">&gt; </span><span class="s1">sendArray </span><span class="s2">= </span><span class="s0">new </span><span class="s1">HashMap</span><span class="s2">&lt;&gt;();</span><span class="s1"> 
    </span><span class="s0">private int </span><span class="s1">tagId</span><span class="s2">, </span><span class="s1">total</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">NewMessageHolder holder</span><span class="s2">;</span><span class="s1"> 
 
    </span><span class="s0">public static final </span><span class="s1">DateFormat mFormatter </span><span class="s2">= </span><span class="s0">new </span><span class="s1">java</span><span class="s2">.</span><span class="s1">text</span><span class="s2">.</span><span class="s1">SimpleDateFormat</span><span class="s2">(</span><span class="s4">&quot;mm:ss:SS&quot;</span><span class="s2">, </span><span class="s1">Locale</span><span class="s2">.</span><span class="s1">US</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s0">public static final float </span><span class="s1">SLIDE_TO_CANCEL_ALPHA_MULTIPLIER </span><span class="s2">= </span><span class="s3">2.5f</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">public static final long </span><span class="s1">TIME_INVALIDATION_FREQUENCY </span><span class="s2">= </span><span class="s3">50L</span><span class="s2">;</span><span class="s1"> 
 
    </span><span class="s0">private </span><span class="s1">HoldingButtonLayout mHoldingButtonLayout</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">TextView mTime</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">EditText mInput</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">View mSlideToCancel</span><span class="s2">;</span><span class="s1"> 
 
    </span><span class="s0">private int </span><span class="s1">mAnimationDuration</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">ViewPropertyAnimator mTimeAnimator</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">ViewPropertyAnimator mSlideToCancelAnimator</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">ViewPropertyAnimator mInputAnimator</span><span class="s2">;</span><span class="s1"> 
 
    </span><span class="s0">private long </span><span class="s1">mStartTime </span><span class="s2">= </span><span class="s3">0</span><span class="s2">, </span><span class="s1">mSecond </span><span class="s2">= </span><span class="s3">0000000001000L</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s0">private </span><span class="s1">Runnable mTimerRunnable</span><span class="s2">;</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">protected void </span><span class="s1">onCreate</span><span class="s2">(</span><span class="s1">Bundle bundle</span><span class="s2">) {</span><span class="s1"> 
        </span><span class="s0">super</span><span class="s2">.</span><span class="s1">onCreate</span><span class="s2">(</span><span class="s1">bundle</span><span class="s2">);</span><span class="s1"> 
        View v </span><span class="s2">= </span><span class="s1">LayoutInflater 
                </span><span class="s2">.</span><span class="s1">from</span><span class="s2">(</span><span class="s0">this</span><span class="s2">)</span><span class="s1"> 
                </span><span class="s2">.</span><span class="s1">inflate</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">layout</span><span class="s2">.</span><span class="s1">activity_nav_new_message</span><span class="s2">, </span><span class="s0">null</span><span class="s2">);</span><span class="s1"> 
        holder </span><span class="s2">= </span><span class="s0">new </span><span class="s1">NewMessageHolder</span><span class="s2">(</span><span class="s1">v</span><span class="s2">, </span><span class="s0">this</span><span class="s2">);</span><span class="s1"> 
        setContentView</span><span class="s2">(</span><span class="s1">v</span><span class="s2">);</span><span class="s1"> 
        setUi</span><span class="s2">();</span><span class="s1"> 
        setListener</span><span class="s2">();</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">private void </span><span class="s1">setListener</span><span class="s2">() {</span><span class="s1"> 
        holder</span><span class="s2">.</span><span class="s1">getPermissionCheck</span><span class="s2">().</span><span class="s1">setOnCheckedChangeListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">OnCheckedChangeListener</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onCheckedChanged</span><span class="s2">(</span><span class="s1">CompoundButton buttonView</span><span class="s2">, </span><span class="s0">boolean </span><span class="s1">isChecked</span><span class="s2">) {</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(!</span><span class="s1">isChecked</span><span class="s2">) {</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">public_key</span><span class="s2">), </span><span class="s4">&quot;1&quot;</span><span class="s2">);</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;1&quot;</span><span class="s2">);</span><span class="s1"> 
                </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">public_key</span><span class="s2">), </span><span class="s1">casePublic</span><span class="s2">);</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s1">caseTypeTemp</span><span class="s2">);</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
                AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">casePublic </span><span class="s2">+ </span><span class="s1">caseTypeTemp</span><span class="s2">);</span><span class="s1"> 
                AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
        holder</span><span class="s2">.</span><span class="s1">getAudioCheck</span><span class="s2">().</span><span class="s1">setOnCheckedChangeListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">OnCheckedChangeListener</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onCheckedChanged</span><span class="s2">(</span><span class="s1">CompoundButton buttonView</span><span class="s2">, </span><span class="s0">boolean </span><span class="s1">isChecked</span><span class="s2">) {</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(!</span><span class="s1">isChecked</span><span class="s2">) {</span><span class="s1"> 
                    bodyAudio </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
                </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                    bodyAudio </span><span class="s2">= </span><span class="s1">bodyAudioTemp</span><span class="s2">;</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">bodyAudio </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
                    AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">bodyAudio</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
        holder</span><span class="s2">.</span><span class="s1">getAttachFileCheck</span><span class="s2">().</span><span class="s1">setOnCheckedChangeListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">OnCheckedChangeListener</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onCheckedChanged</span><span class="s2">(</span><span class="s1">CompoundButton buttonView</span><span class="s2">, </span><span class="s0">boolean </span><span class="s1">isChecked</span><span class="s2">) {</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(!</span><span class="s1">isChecked</span><span class="s2">) {</span><span class="s1"> 
                    bodyFile </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
                </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                    bodyFile </span><span class="s2">= </span><span class="s1">bodyFileTemp</span><span class="s2">;</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">bodyFile </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
                    AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">bodyFile</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
        holder</span><span class="s2">.</span><span class="s1">getTimeOutCheck</span><span class="s2">().</span><span class="s1">setOnCheckedChangeListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">OnCheckedChangeListener</span><span class="s2">() {</span><span class="s1"> 
 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onCheckedChanged</span><span class="s2">(</span><span class="s1">CompoundButton buttonView</span><span class="s2">, </span><span class="s0">boolean </span><span class="s1">isChecked</span><span class="s2">) {</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(!</span><span class="s1">isChecked</span><span class="s2">) {</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">timeout_key</span><span class="s2">));</span><span class="s1"> 
                </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">timeout_key</span><span class="s2">), </span><span class="s1">timeOutTemp</span><span class="s2">);</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">private void </span><span class="s1">startRecording</span><span class="s2">() </span><span class="s0">throws </span><span class="s1">IllegalStateException </span><span class="s2">{</span><span class="s1"> 
        recorder </span><span class="s2">= </span><span class="s0">new </span><span class="s1">MediaRecorder</span><span class="s2">();</span><span class="s1"> 
        recorder</span><span class="s2">.</span><span class="s1">setAudioSource</span><span class="s2">(</span><span class="s1">MediaRecorder</span><span class="s2">.</span><span class="s1">AudioSource</span><span class="s2">.</span><span class="s1">MIC</span><span class="s2">);</span><span class="s1"> 
        recorder</span><span class="s2">.</span><span class="s1">setOutputFormat</span><span class="s2">(</span><span class="s1">MediaRecorder</span><span class="s2">.</span><span class="s1">AudioEncoder</span><span class="s2">.</span><span class="s1">AMR_WB</span><span class="s2">);</span><span class="s1"> 
        recorder</span><span class="s2">.</span><span class="s1">setAudioEncoder</span><span class="s2">(</span><span class="s1">MediaRecorder</span><span class="s2">.</span><span class="s1">AudioEncoder</span><span class="s2">.</span><span class="s1">AAC</span><span class="s2">);</span><span class="s1"> 
        recorder</span><span class="s2">.</span><span class="s1">setMaxDuration</span><span class="s2">(</span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">AUDIO_LENGTH</span><span class="s2">);</span><span class="s1"> 
        recorder</span><span class="s2">.</span><span class="s1">setMaxFileSize</span><span class="s2">(</span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">FILE_LENGTH</span><span class="s2">);</span><span class="s1"> 
        MediaRecorder localMediaRecorder </span><span class="s2">= </span><span class="s1">recorder</span><span class="s2">;</span><span class="s1"> 
        String str </span><span class="s2">= </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">getFilename</span><span class="s2">();</span><span class="s1"> 
        fileAudioSource </span><span class="s2">= </span><span class="s1">str</span><span class="s2">;</span><span class="s1"> 
        localMediaRecorder</span><span class="s2">.</span><span class="s1">setOutputFile</span><span class="s2">(</span><span class="s1">str</span><span class="s2">);</span><span class="s1"> 
        recorder</span><span class="s2">.</span><span class="s1">setOnErrorListener</span><span class="s2">(</span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">ERROR_LISTENER</span><span class="s2">);</span><span class="s1"> 
        recorder</span><span class="s2">.</span><span class="s1">setOnInfoListener</span><span class="s2">(</span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INFO_LISTENER</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
            recorder</span><span class="s2">.</span><span class="s1">prepare</span><span class="s2">();</span><span class="s1"> 
            recorder</span><span class="s2">.</span><span class="s1">start</span><span class="s2">();</span><span class="s1"> 
</span><span class="s5">//            holder.getBtnAudioSource().performHapticFeedback(20);</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">IllegalStateException </span><span class="s2">| </span><span class="s1">IOException e</span><span class="s2">) {</span><span class="s1"> 
            AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;Please Hold more then a Second to record&quot;</span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">private void </span><span class="s1">stopRecording</span><span class="s2">() {</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">recorder </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
            AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s4">&quot;testing&quot;</span><span class="s2">);</span><span class="s1"> 
            recorder</span><span class="s2">.</span><span class="s1">stop</span><span class="s2">();</span><span class="s1"> 
            recorder</span><span class="s2">.</span><span class="s1">reset</span><span class="s2">();</span><span class="s1"> 
            recorder</span><span class="s2">.</span><span class="s1">release</span><span class="s2">();</span><span class="s1"> 
            recorder </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
            holder</span><span class="s2">.</span><span class="s1">getBtnPlayAudio</span><span class="s2">().</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">View</span><span class="s2">.</span><span class="s1">VISIBLE</span><span class="s2">);</span><span class="s1"> 
            File file </span><span class="s2">= </span><span class="s0">new </span><span class="s1">File</span><span class="s2">(</span><span class="s1">fileAudioSource</span><span class="s2">);</span><span class="s1"> 
            RequestBody localRequestBody </span><span class="s2">= </span><span class="s1">RequestBody</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s1">MediaType</span><span class="s2">.</span><span class="s1">parse</span><span class="s2">(</span><span class="s4">&quot;multipart/form-data&quot;</span><span class="s2">), </span><span class="s1">file</span><span class="s2">);</span><span class="s1"> 
            bodyAudioTemp </span><span class="s2">= </span><span class="s1">MultipartBody</span><span class="s2">.</span><span class="s1">Part</span><span class="s2">.</span><span class="s1">createFormData</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">audio_key</span><span class="s2">), </span><span class="s1">file</span><span class="s2">.</span><span class="s1">getName</span><span class="s2">(), </span><span class="s1">localRequestBody</span><span class="s2">);</span><span class="s1"> 
            AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">fileAudioSource</span><span class="s2">);</span><span class="s1"> 
            AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">bodyAudioTemp</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
            AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s4">&quot;testing&quot; </span><span class="s2">+ </span><span class="s1">fileAudioSource </span><span class="s2">+ </span><span class="s1">file</span><span class="s2">.</span><span class="s1">getPath</span><span class="s2">());</span><span class="s1"> 
            holder</span><span class="s2">.</span><span class="s1">getAudioCheck</span><span class="s2">().</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span><span class="s1"> 
            holder</span><span class="s2">.</span><span class="s1">getAudioCheck</span><span class="s2">().</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">View</span><span class="s2">.</span><span class="s1">VISIBLE</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">protected void </span><span class="s1">onActivityResult</span><span class="s2">(</span><span class="s0">int </span><span class="s1">requestCode</span><span class="s2">, </span><span class="s0">int </span><span class="s1">resultCode</span><span class="s2">, </span><span class="s1">Intent data</span><span class="s2">) {</span><span class="s1"> 
        </span><span class="s0">super</span><span class="s2">.</span><span class="s1">onActivityResult</span><span class="s2">(</span><span class="s1">requestCode</span><span class="s2">, </span><span class="s1">resultCode</span><span class="s2">, </span><span class="s1">data</span><span class="s2">);</span><span class="s1"> 
        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">String</span><span class="s2">.</span><span class="s1">valueOf</span><span class="s2">(</span><span class="s1">requestCode</span><span class="s2">));</span><span class="s1"> 
        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">String</span><span class="s2">.</span><span class="s1">valueOf</span><span class="s2">(</span><span class="s1">requestCode</span><span class="s2">));</span><span class="s1"> 
        </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
            ActivityResult</span><span class="s2">.</span><span class="s1">onResult</span><span class="s2">(</span><span class="s1">requestCode</span><span class="s2">, </span><span class="s1">resultCode</span><span class="s2">, </span><span class="s1">data</span><span class="s2">).</span><span class="s1">into</span><span class="s2">(</span><span class="s0">this</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">Exception e</span><span class="s2">) {</span><span class="s1"> 
            AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">());</span><span class="s1"> 
            AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">(), </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">View v</span><span class="s2">) {</span><span class="s1"> 
        </span><span class="s0">int </span><span class="s1">i </span><span class="s2">= </span><span class="s1">v</span><span class="s2">.</span><span class="s1">getId</span><span class="s2">();</span><span class="s1"> 
        AppLog</span><span class="s2">.</span><span class="s1">setVibrate</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INTENSITY_LOW</span><span class="s2">);</span><span class="s1"> 
        Button BtnShareWith</span><span class="s2">;</span><span class="s1"> 
        Button BtnDontShare</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s0">final </span><span class="s1">CheckBox share</span><span class="s2">, </span><span class="s1">d_share</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s0">switch </span><span class="s2">(</span><span class="s1">i</span><span class="s2">) {</span><span class="s1"> 
            </span><span class="s0">case </span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">text_add_permission</span><span class="s2">:</span><span class="s1"> 
                </span><span class="s0">final </span><span class="s1">MaterialDialog</span><span class="s2">.</span><span class="s1">Builder mb </span><span class="s2">= </span><span class="s0">new </span><span class="s1">MaterialDialog</span><span class="s2">.</span><span class="s1">Builder</span><span class="s2">(</span><span class="s1">context</span><span class="s2">);</span><span class="s1"> 
                mb</span><span class="s2">.</span><span class="s1">customView</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">layout</span><span class="s2">.</span><span class="s1">dialogue_new_message_permission</span><span class="s2">, </span><span class="s0">true</span><span class="s2">);</span><span class="s1"> 
                mb</span><span class="s2">.</span><span class="s1">title</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">add_permission_menu</span><span class="s2">);</span><span class="s1"> 
                </span><span class="s0">final </span><span class="s1">MaterialDialog md </span><span class="s2">= </span><span class="s1">mb</span><span class="s2">.</span><span class="s1">build</span><span class="s2">();</span><span class="s1"> 
                share </span><span class="s2">= (</span><span class="s1">CheckBox</span><span class="s2">) </span><span class="s1">md</span><span class="s2">.</span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">share_check</span><span class="s2">);</span><span class="s1"> 
                d_share </span><span class="s2">= (</span><span class="s1">CheckBox</span><span class="s2">) </span><span class="s1">md</span><span class="s2">.</span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">d_share_check</span><span class="s2">);</span><span class="s1"> 
                BtnShareWith </span><span class="s2">= (</span><span class="s1">Button</span><span class="s2">) </span><span class="s1">md</span><span class="s2">.</span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">btn_share_with</span><span class="s2">);</span><span class="s1"> 
                BtnDontShare </span><span class="s2">= (</span><span class="s1">Button</span><span class="s2">) </span><span class="s1">md</span><span class="s2">.</span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">btn_do_not_share_with</span><span class="s2">);</span><span class="s1"> 
                BtnShareWith</span><span class="s2">.</span><span class="s1">setOnClickListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">OnClickListener</span><span class="s2">() {</span><span class="s1"> 
                    </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">View v</span><span class="s2">) {</span><span class="s1"> 
                        caseTewS </span><span class="s2">= </span><span class="s1">caseElevS </span><span class="s2">= </span><span class="s1">caseTheS </span><span class="s2">= </span><span class="s1">caseNineS </span><span class="s2">= </span><span class="s1">caseTenS </span><span class="s2">= </span><span class="s1">caseForS </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
                        Intent i </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Intent</span><span class="s2">(</span><span class="s1">getApplicationContext</span><span class="s2">(), </span><span class="s1">SharePermissionActivity</span><span class="s2">.</span><span class="s0">class</span><span class="s2">);</span><span class="s1"> 
                        share</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span><span class="s1"> 
                        share</span><span class="s2">.</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">View</span><span class="s2">.</span><span class="s1">GONE</span><span class="s2">);</span><span class="s1"> 
                        startActivityForResult</span><span class="s2">(</span><span class="s1">i</span><span class="s2">, </span><span class="s1">REQUEST_CODE_FOR_SHARE</span><span class="s2">);</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">setVibrate</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INTENSITY_LOW</span><span class="s2">);</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s2">});</span><span class="s1"> 
                BtnDontShare</span><span class="s2">.</span><span class="s1">setOnClickListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">OnClickListener</span><span class="s2">() {</span><span class="s1"> 
                    </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">View v</span><span class="s2">) {</span><span class="s1"> 
                        caseTewDs </span><span class="s2">= </span><span class="s1">caseElevDs </span><span class="s2">= </span><span class="s1">caseTheDs </span><span class="s2">= </span><span class="s1">caseNineDs </span><span class="s2">= </span><span class="s1">caseTenDs </span><span class="s2">= </span><span class="s1">caseForDs </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span><span class="s1"> 
                        Intent i </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Intent</span><span class="s2">(</span><span class="s1">getApplicationContext</span><span class="s2">(), </span><span class="s1">DoNotSharePermissionActivity</span><span class="s2">.</span><span class="s0">class</span><span class="s2">);</span><span class="s1"> 
                        d_share</span><span class="s2">.</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span><span class="s1"> 
                        d_share</span><span class="s2">.</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">View</span><span class="s2">.</span><span class="s1">GONE</span><span class="s2">);</span><span class="s1"> 
                        startActivityForResult</span><span class="s2">(</span><span class="s1">i</span><span class="s2">, </span><span class="s1">REQUEST_CODE_FOR_DO_NOT_SHARE</span><span class="s2">);</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">setVibrate</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INTENSITY_LOW</span><span class="s2">);</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s2">});</span><span class="s1"> 
                mb</span><span class="s2">.</span><span class="s1">positiveText</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">done</span><span class="s2">);</span><span class="s1"> 
                mb</span><span class="s2">.</span><span class="s1">onPositive</span><span class="s2">(</span><span class="s0">new </span><span class="s1">MaterialDialog</span><span class="s2">.</span><span class="s1">SingleButtonCallback</span><span class="s2">() {</span><span class="s1"> 
                    @Override 
                    </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">@NonNull MaterialDialog dialog</span><span class="s2">, </span><span class="s1">@NonNull DialogAction which</span><span class="s2">) {</span><span class="s1"> 
                        Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">set_permission</span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                        dialog</span><span class="s2">.</span><span class="s1">dismiss</span><span class="s2">();</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">setVibrate</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INTENSITY_LOW</span><span class="s2">);</span><span class="s1"> 
                        caseSet</span><span class="s2">();</span><span class="s1"> 
                        holder</span><span class="s2">.</span><span class="s1">getPermissionCheck</span><span class="s2">().</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span><span class="s1"> 
                        holder</span><span class="s2">.</span><span class="s1">getPermissionCheck</span><span class="s2">().</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">View</span><span class="s2">.</span><span class="s1">VISIBLE</span><span class="s2">);</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s2">});</span><span class="s1"> 
                mb</span><span class="s2">.</span><span class="s1">negativeText</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">cancel_btn</span><span class="s2">);</span><span class="s1"> 
                mb</span><span class="s2">.</span><span class="s1">onNegative</span><span class="s2">(</span><span class="s0">new </span><span class="s1">MaterialDialog</span><span class="s2">.</span><span class="s1">SingleButtonCallback</span><span class="s2">() {</span><span class="s1"> 
                    @Override 
                    </span><span class="s0">public void </span><span class="s1">onClick</span><span class="s2">(</span><span class="s1">@NonNull MaterialDialog dialog</span><span class="s2">, </span><span class="s1">@NonNull DialogAction which</span><span class="s2">) {</span><span class="s1"> 
                        Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">cancel</span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                        dialog</span><span class="s2">.</span><span class="s1">dismiss</span><span class="s2">();</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">setVibrate</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INTENSITY_LOW</span><span class="s2">);</span><span class="s1"> 
                        caseSet</span><span class="s2">();</span><span class="s1"> 
                        holder</span><span class="s2">.</span><span class="s1">getPermissionCheck</span><span class="s2">().</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span><span class="s1"> 
                        holder</span><span class="s2">.</span><span class="s1">getPermissionCheck</span><span class="s2">().</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">View</span><span class="s2">.</span><span class="s1">VISIBLE</span><span class="s2">);</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s2">});</span><span class="s1"> 
                mb</span><span class="s2">.</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                </span><span class="s0">break</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s0">case </span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">btn_cancel_button</span><span class="s2">:</span><span class="s1"> 
                finish</span><span class="s2">();</span><span class="s1"> 
                </span><span class="s0">break</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">private void </span><span class="s1">caseSet</span><span class="s2">() {</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">((</span><span class="s1">publicFlag</span><span class="s2">) &amp;&amp; </span><span class="s1">caseSeven</span><span class="s2">) {</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;7&quot;</span><span class="s2">);</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">public_key</span><span class="s2">), </span><span class="s4">&quot;1&quot;</span><span class="s2">);</span><span class="s1"> 
            AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s4">&quot;onClick: &quot; </span><span class="s2">+ </span><span class="s4">&quot;7&quot;</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">((</span><span class="s1">publicFlag</span><span class="s2">) &amp;&amp; (</span><span class="s1">caseEight</span><span class="s2">)) {</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;8&quot;</span><span class="s2">);</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">public_key</span><span class="s2">), </span><span class="s4">&quot;1&quot;</span><span class="s2">);</span><span class="s1"> 
            Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;CASE_TAG&quot;</span><span class="s2">, </span><span class="s4">&quot;onClick: 8&quot;</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">((</span><span class="s1">caseNineDs</span><span class="s2">) &amp;&amp; (</span><span class="s1">caseNineS</span><span class="s2">)) {</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;9&quot;</span><span class="s2">);</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">public_key</span><span class="s2">), </span><span class="s4">&quot;0&quot;</span><span class="s2">);</span><span class="s1"> 
            Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;CASE_TAG&quot;</span><span class="s2">, </span><span class="s4">&quot;onClick: 9&quot;</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">((</span><span class="s1">caseTenS</span><span class="s2">) &amp;&amp; (</span><span class="s1">caseTenDs</span><span class="s2">)) {</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;10&quot;</span><span class="s2">);</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">public_key</span><span class="s2">), </span><span class="s4">&quot;0&quot;</span><span class="s2">);</span><span class="s1"> 
            Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;CASE_TAG&quot;</span><span class="s2">, </span><span class="s4">&quot;onClick: 10&quot;</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">((</span><span class="s1">caseElevS</span><span class="s2">) &amp;&amp; (</span><span class="s1">caseElevDs</span><span class="s2">)) {</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;11&quot;</span><span class="s2">);</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">public_key</span><span class="s2">), </span><span class="s4">&quot;0&quot;</span><span class="s2">);</span><span class="s1"> 
            Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;CASE_TAG&quot;</span><span class="s2">, </span><span class="s4">&quot;onClick: 11&quot;</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">((</span><span class="s1">caseTewS</span><span class="s2">) &amp;&amp; (</span><span class="s1">caseTewDs</span><span class="s2">)) {</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;12&quot;</span><span class="s2">);</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">public_key</span><span class="s2">), </span><span class="s4">&quot;0&quot;</span><span class="s2">);</span><span class="s1"> 
            Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;CASE_TAG&quot;</span><span class="s2">, </span><span class="s4">&quot;onClick: 12&quot;</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">((</span><span class="s1">caseTheS</span><span class="s2">) &amp;&amp; (</span><span class="s1">caseTheDs</span><span class="s2">)) {</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;13&quot;</span><span class="s2">);</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">public_key</span><span class="s2">), </span><span class="s4">&quot;0&quot;</span><span class="s2">);</span><span class="s1"> 
            Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;CASE_TAG&quot;</span><span class="s2">, </span><span class="s4">&quot;onClick: 13&quot;</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">((</span><span class="s1">caseForS</span><span class="s2">) &amp;&amp; (</span><span class="s1">caseForDs</span><span class="s2">)) {</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;14&quot;</span><span class="s2">);</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">public_key</span><span class="s2">), </span><span class="s4">&quot;0&quot;</span><span class="s2">);</span><span class="s1"> 
            Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;CASE_TAG&quot;</span><span class="s2">, </span><span class="s4">&quot;onClick: 14&quot;</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
            Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;CASE_TAG&quot;</span><span class="s2">, </span><span class="s4">&quot;onClick: 1&quot;</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
        caseTypeTemp </span><span class="s2">= (</span><span class="s1">String</span><span class="s2">) </span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">get</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">));</span><span class="s1"> 
        casePublic </span><span class="s2">= (</span><span class="s1">String</span><span class="s2">) </span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">get</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">public_key</span><span class="s2">));</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">public void </span><span class="s1">onDateSet</span><span class="s2">(</span><span class="s0">long </span><span class="s1">date</span><span class="s2">) {</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    @TargetApi </span><span class="s2">(</span><span class="s1">Build</span><span class="s2">.</span><span class="s1">VERSION_CODES</span><span class="s2">.</span><span class="s1">KITKAT</span><span class="s2">)</span><span class="s1"> 
    @OnActivityResult </span><span class="s2">(</span><span class="s1">requestCode </span><span class="s2">= </span><span class="s1">REQUEST_CODE_FOR_DO_NOT_SHARE</span><span class="s2">)</span><span class="s1"> 
    </span><span class="s0">void </span><span class="s1">onDoNotSharePermissionSet</span><span class="s2">(</span><span class="s0">int </span><span class="s1">i</span><span class="s2">, </span><span class="s1">Intent data</span><span class="s2">) {</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">data </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
            bundle </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">getBundleExtra</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">permission_key</span><span class="s2">));</span><span class="s1"> 
            </span><span class="s0">if </span><span class="s2">(</span><span class="s1">bundle</span><span class="s2">.</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">)) != </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">Objects</span><span class="s2">.</span><span class="s1">equals</span><span class="s2">(</span><span class="s1">bundle</span><span class="s2">.</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">)), </span><span class="s4">&quot;5&quot;</span><span class="s2">)) {</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;5&quot;</span><span class="s2">);</span><span class="s1"> 
                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">containsKey</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">dnt_sh_group_key</span><span class="s2">))) {</span><span class="s1"> 
                        sendArray</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">dnt_sh_group_key</span><span class="s2">));</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                    caseSeven </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                    caseNineDs </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                    caseElevDs </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                    caseTheDs </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">dnt_sh_user_key</span><span class="s2">)</span><span class="s1"> 
                            </span><span class="s2">, </span><span class="s1">bundle</span><span class="s2">.</span><span class="s1">getIntegerArrayList</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">users_integer_key</span><span class="s2">)));</span><span class="s1"> 
                    Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;TAG1&quot;</span><span class="s2">, </span><span class="s4">&quot;onActivityResult: &quot; </span><span class="s2">+ </span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
                    Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s4">&quot;User Specified DoNotSharePermission set&quot;</span><span class="s1"> 
                            </span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_LONG</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">(</span><span class="s1">Objects</span><span class="s2">.</span><span class="s1">equals</span><span class="s2">(</span><span class="s1">bundle</span><span class="s2">.</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">)), </span><span class="s4">&quot;6&quot;</span><span class="s2">)) {</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;6&quot;</span><span class="s2">);</span><span class="s1"> 
                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">containsKey</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">dnt_sh_user_key</span><span class="s2">)))</span><span class="s1"> 
                        sendArray</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">dnt_sh_user_key</span><span class="s2">));</span><span class="s1"> 
                    caseEight </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                    caseTenDs </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                    caseTewDs </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                    caseForDs </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">dnt_sh_group_key</span><span class="s2">)</span><span class="s1"> 
                            </span><span class="s2">, </span><span class="s1">bundle</span><span class="s2">.</span><span class="s1">getIntegerArrayList</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">groups_integers_key</span><span class="s2">)));</span><span class="s1"> 
                    Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;TAG2&quot;</span><span class="s2">, </span><span class="s4">&quot;onActivityResult: &quot; </span><span class="s2">+ </span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
                    Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s4">&quot;Group DoNotSharePermission set&quot;</span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
            Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s4">&quot;Nothing is set! &quot;</span><span class="s2">,</span><span class="s1"> 
                    Toast</span><span class="s2">.</span><span class="s1">LENGTH_LONG</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
            </span><span class="s0">return</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
        Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s4">&quot;Nothing is set! &quot;</span><span class="s2">,</span><span class="s1"> 
                Toast</span><span class="s2">.</span><span class="s1">LENGTH_LONG</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    @RequiresApi </span><span class="s2">(</span><span class="s1">api </span><span class="s2">= </span><span class="s1">Build</span><span class="s2">.</span><span class="s1">VERSION_CODES</span><span class="s2">.</span><span class="s1">KITKAT</span><span class="s2">)</span><span class="s1"> 
    @OnActivityResult </span><span class="s2">(</span><span class="s1">requestCode </span><span class="s2">= </span><span class="s1">REQUEST_CODE_FOR_SHARE</span><span class="s2">)</span><span class="s1"> 
    </span><span class="s0">void </span><span class="s1">onSharePermissionSet</span><span class="s2">(</span><span class="s0">int </span><span class="s1">i</span><span class="s2">, </span><span class="s1">Intent data</span><span class="s2">) {</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">data </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
            bundle </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">getBundleExtra</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">permission_key</span><span class="s2">));</span><span class="s1"> 
</span><span class="s5">//            if (!sendArray.isEmpty()) sendArray.clear();</span><span class="s1"> 
 
            </span><span class="s0">if </span><span class="s2">(</span><span class="s1">bundle</span><span class="s2">.</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">)) != </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">Objects</span><span class="s2">.</span><span class="s1">equals</span><span class="s2">(</span><span class="s1">bundle</span><span class="s2">.</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">)), </span><span class="s4">&quot;1&quot;</span><span class="s2">)) {</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;1&quot;</span><span class="s2">);</span><span class="s1"> 
                    publicFlag </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">public_key</span><span class="s2">), </span><span class="s1">bundle</span><span class="s2">.</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">public_key</span><span class="s2">)));</span><span class="s1"> 
                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">containsKey</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">share_user_key</span><span class="s2">)))</span><span class="s1"> 
                        sendArray</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">share_user_key</span><span class="s2">));</span><span class="s1"> 
                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">containsKey</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">share_group_key</span><span class="s2">)))</span><span class="s1"> 
                        sendArray</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">share_group_key</span><span class="s2">));</span><span class="s1"> 
                    Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;TAG0&quot;</span><span class="s2">, </span><span class="s4">&quot;onActivityResult: &quot; </span><span class="s2">+ </span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
                    Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s4">&quot;Public SharePermission set&quot;</span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
 
                </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">(</span><span class="s1">Objects</span><span class="s2">.</span><span class="s1">equals</span><span class="s2">(</span><span class="s1">bundle</span><span class="s2">.</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">)), </span><span class="s4">&quot;2&quot;</span><span class="s2">)) {</span><span class="s1"> 
                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">containsKey</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">share_group_key</span><span class="s2">)))</span><span class="s1"> 
                        sendArray</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">share_group_key</span><span class="s2">));</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;2&quot;</span><span class="s2">);</span><span class="s1"> 
                    caseNineS </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                    caseTenS </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">share_user_key</span><span class="s2">), </span><span class="s1">bundle</span><span class="s2">.</span><span class="s1">getIntegerArrayList</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">users_integer_key</span><span class="s2">)));</span><span class="s1"> 
                    Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;TAG1&quot;</span><span class="s2">, </span><span class="s4">&quot;onActivityResult: &quot; </span><span class="s2">+ </span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
                    Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s4">&quot;User Specified SharePermission set&quot;</span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
 
                </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">(</span><span class="s1">Objects</span><span class="s2">.</span><span class="s1">equals</span><span class="s2">(</span><span class="s1">bundle</span><span class="s2">.</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">)), </span><span class="s4">&quot;3&quot;</span><span class="s2">)) {</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;3&quot;</span><span class="s2">);</span><span class="s1"> 
                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">containsKey</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">share_user_key</span><span class="s2">)))</span><span class="s1"> 
                        sendArray</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">share_user_key</span><span class="s2">));</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">share_group_key</span><span class="s2">), </span><span class="s1">bundle</span><span class="s2">.</span><span class="s1">getIntegerArrayList</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">groups_integers_key</span><span class="s2">)));</span><span class="s1"> 
                    Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;TAG2&quot;</span><span class="s2">, </span><span class="s4">&quot;onActivityResult: &quot; </span><span class="s2">+ </span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
                    caseElevS </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                    caseTewS </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                    Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s4">&quot;Group SharePermission set&quot;</span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
 
                </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">(</span><span class="s1">Objects</span><span class="s2">.</span><span class="s1">equals</span><span class="s2">(</span><span class="s1">bundle</span><span class="s2">.</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">)), </span><span class="s4">&quot;4&quot;</span><span class="s2">)) {</span><span class="s1"> 
                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">containsKey</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">share_user_key</span><span class="s2">)))</span><span class="s1"> 
                        sendArray</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">share_user_key</span><span class="s2">));</span><span class="s1"> 
                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">containsKey</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">share_group_key</span><span class="s2">)))</span><span class="s1"> 
                        sendArray</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">share_group_key</span><span class="s2">));</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;4&quot;</span><span class="s2">);</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">friends_only_key</span><span class="s2">), </span><span class="s4">&quot;1&quot;</span><span class="s2">);</span><span class="s1"> 
                    caseTheS </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                    caseForS </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span><span class="s1"> 
                    Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;TAG4&quot;</span><span class="s2">, </span><span class="s4">&quot;onActivityResult: &quot; </span><span class="s2">+ </span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
                    Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s4">&quot;Friends Only SharePermission set&quot;</span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
 
                </span><span class="s2">}</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">case_type_key</span><span class="s2">), </span><span class="s4">&quot;1&quot;</span><span class="s2">);</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">public_key</span><span class="s2">), </span><span class="s4">&quot;&quot;</span><span class="s2">);</span><span class="s1"> 
            Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s4">&quot;Public Permission set&quot;</span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 
 <hr class="ls0">    </span><span class="s0">public void </span><span class="s1">onTimeSet</span><span class="s2">(</span><span class="s0">long </span><span class="s1">timeOnly</span><span class="s2">, </span><span class="s0">long </span><span class="s1">dateWithTime</span><span class="s2">) {</span><span class="s1"> 
        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">getDateAndTime</span><span class="s2">(</span><span class="s1">dateWithTime</span><span class="s2">));</span><span class="s1"> 
        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">String</span><span class="s2">.</span><span class="s1">valueOf</span><span class="s2">(</span><span class="s1">dateWithTime</span><span class="s2">));</span><span class="s1"> 
        AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">getDateAndTime</span><span class="s2">(</span><span class="s1">dateWithTime</span><span class="s2">), </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
        sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">timeout_key</span><span class="s2">), </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">getDateAndTime</span><span class="s2">(</span><span class="s1">dateWithTime</span><span class="s2">));</span><span class="s1"> 
        timeOutTemp </span><span class="s2">= </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">getDateAndTime</span><span class="s2">(</span><span class="s1">dateWithTime</span><span class="s2">);</span><span class="s1"> 
        holder</span><span class="s2">.</span><span class="s1">getTimeOutCheck</span><span class="s2">().</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span><span class="s1"> 
        holder</span><span class="s2">.</span><span class="s1">getTimeOutCheck</span><span class="s2">().</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">View</span><span class="s2">.</span><span class="s1">VISIBLE</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    @Override 
    </span><span class="s0">public boolean </span><span class="s1">onTouch</span><span class="s2">(</span><span class="s1">View v</span><span class="s2">, </span><span class="s1">MotionEvent event</span><span class="s2">) {</span><span class="s1"> 
        </span><span class="s0">int </span><span class="s1">i </span><span class="s2">= </span><span class="s1">event</span><span class="s2">.</span><span class="s1">getAction</span><span class="s2">();</span><span class="s1"> 
        AppLog</span><span class="s2">.</span><span class="s1">setVibrate</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INTENSITY_MIDDLE</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s0">int </span><span class="s1">id </span><span class="s2">= </span><span class="s1">v</span><span class="s2">.</span><span class="s1">getId</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s0">switch </span><span class="s2">(</span><span class="s1">id</span><span class="s2">) {</span><span class="s1"> 
            </span><span class="s0">case </span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">btn_audio_source</span><span class="s2">:</span><span class="s1"> 
                </span><span class="s0">switch </span><span class="s2">(</span><span class="s1">i</span><span class="s2">) {</span><span class="s1"> 
                    </span><span class="s0">case </span><span class="s1">MotionEvent</span><span class="s2">.</span><span class="s1">ACTION_DOWN</span><span class="s2">:</span><span class="s1"> 
                        </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
                            Progress</span><span class="s2">.</span><span class="s1">Show</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s4">&quot;Recording..&quot;</span><span class="s2">);</span><span class="s1"> 
                            startRecording</span><span class="s2">();</span><span class="s1"> 
                        </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">IllegalStateException e</span><span class="s2">) {</span><span class="s1"> 
                            AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;Please Hold more then a Second to record&quot;</span><span class="s1"> 
                                    </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
</span><span class="s5">//                    AppLog.logString(e.getMessage());</span><span class="s1"> 
                        </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">RuntimeException e1</span><span class="s2">) {</span><span class="s1"> 
                            AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;Please Hold more then a Second to record&quot;</span><span class="s1"> 
                                    </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
</span><span class="s5">//                    AppLog.logString(e1.getMessage());</span><span class="s1"> 
                        </span><span class="s2">}</span><span class="s1"> 
                        </span><span class="s0">break</span><span class="s2">;</span><span class="s1"> 
                    </span><span class="s0">case </span><span class="s1">MotionEvent</span><span class="s2">.</span><span class="s1">ACTION_UP</span><span class="s2">:</span><span class="s1"> 
 
                        </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
                            Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                            stopRecording</span><span class="s2">();</span><span class="s1"> 
                        </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">IllegalStateException e</span><span class="s2">) {</span><span class="s1"> 
                            AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;Please Hold more then a Second to record&quot;</span><span class="s1"> 
                                    </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                        </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">RuntimeException e1</span><span class="s2">) {</span><span class="s1"> 
                            AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;Please Hold more then a Second to record&quot;</span><span class="s1"> 
                                    </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                        </span><span class="s2">}</span><span class="s1"> 
                        </span><span class="s0">break</span><span class="s2">;</span><span class="s1"> 
                    </span><span class="s0">case </span><span class="s1">MotionEvent</span><span class="s2">.</span><span class="s1">ACTION_MOVE</span><span class="s2">:</span><span class="s1"> 
                        </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
                            Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                            </span><span class="s0">if </span><span class="s2">(</span><span class="s1">recorder </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
                                AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s4">&quot;testingMove&quot;</span><span class="s2">);</span><span class="s1"> 
                                recorder</span><span class="s2">.</span><span class="s1">stop</span><span class="s2">();</span><span class="s1"> 
                                recorder</span><span class="s2">.</span><span class="s1">reset</span><span class="s2">();</span><span class="s1"> 
                                recorder</span><span class="s2">.</span><span class="s1">release</span><span class="s2">();</span><span class="s1"> 
                                recorder </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
                                AppLog</span><span class="s2">.</span><span class="s1">toastShortString</span><span class="s2">(</span><span class="s4">&quot;Audio Cancel&quot;</span><span class="s1"> 
                                        </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                            </span><span class="s2">}</span><span class="s1"> 
                        </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">IllegalStateException e</span><span class="s2">) {</span><span class="s1"> 
                            AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;Please Hold more then a Second to record&quot;</span><span class="s1"> 
                                    </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                        </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">RuntimeException e1</span><span class="s2">) {</span><span class="s1"> 
                            AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;Please Hold more then a Second to record&quot;</span><span class="s1"> 
                                    </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                        </span><span class="s2">}</span><span class="s1"> 
                        </span><span class="s0">break</span><span class="s2">;</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s0">break</span><span class="s2">;</span><span class="s1"> 
            </span><span class="s0">case </span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">btn_play_audio</span><span class="s2">:</span><span class="s1"> 
                AppLog</span><span class="s2">.</span><span class="s1">defaultFileOpener</span><span class="s2">(</span><span class="s1">fileAudioSource</span><span class="s2">, </span><span class="s1">context</span><span class="s2">);</span><span class="s1"> 
                </span><span class="s0">break</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s0">return false</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">public void </span><span class="s1">sendMsg</span><span class="s2">(</span><span class="s0">final </span><span class="s1">View view</span><span class="s2">) {</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(!</span><span class="s1">holder</span><span class="s2">.</span><span class="s1">getEditTextContentMessage</span><span class="s2">().</span><span class="s1">getText</span><span class="s2">().</span><span class="s1">toString</span><span class="s2">().</span><span class="s1">isEmpty</span><span class="s2">()) {</span><span class="s1"> 
 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">content_key</span><span class="s2">), </span><span class="s1">holder</span><span class="s2">.</span><span class="s1">getEditTextContentMessage</span><span class="s2">().</span><span class="s1">getText</span><span class="s2">().</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">user_id_key</span><span class="s2">), </span><span class="s1">OBSession</span><span class="s2">.</span><span class="s1">getPreference</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">id_key</span><span class="s2">), </span><span class="s1">getApplicationContext</span><span class="s2">()));</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">tag_id_key</span><span class="s2">), </span><span class="s1">tagId</span><span class="s2">);</span><span class="s1"> 
            sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">type_key</span><span class="s2">), </span><span class="s4">&quot;text&quot;</span><span class="s2">);</span><span class="s1"> 
            </span><span class="s0">final </span><span class="s1">IMessages sendMsg </span><span class="s2">= </span><span class="s1">OfficeBotURI</span><span class="s2">.</span><span class="s1">retrofit</span><span class="s2">().</span><span class="s1">create</span><span class="s2">(</span><span class="s1">IMessages</span><span class="s2">.</span><span class="s0">class</span><span class="s2">);</span><span class="s1"> 
            AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">sendArray</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
            </span><span class="s0">if </span><span class="s2">(</span><span class="s1">InternetConnection</span><span class="s2">.</span><span class="s1">checkConnection</span><span class="s2">(</span><span class="s1">context</span><span class="s2">)) {</span><span class="s1"> 
                Progress</span><span class="s2">.</span><span class="s1">Show</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">sending_loading</span><span class="s2">));</span><span class="s1"> 
                Call</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">call </span><span class="s2">= </span><span class="s1">sendMsg</span><span class="s2">.</span><span class="s1">sentMessage</span><span class="s2">(</span><span class="s1">sendArray</span><span class="s2">);</span><span class="s1"> 
                call</span><span class="s2">.</span><span class="s1">enqueue</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Callback</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt;() {</span><span class="s1"> 
                    </span><span class="s0">public void </span><span class="s1">onFailure</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">call</span><span class="s2">, </span><span class="s1">Throwable t</span><span class="s2">) {</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s1">t</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">() + </span><span class="s4">&quot;</span><span class="s3">\n</span><span class="s4">&quot; </span><span class="s2">+ </span><span class="s4">&quot;Note Failed&quot;</span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">t</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">());</span><span class="s1"> 
                        Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                        finish</span><span class="s2">();</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
 
                    </span><span class="s0">public void </span><span class="s1">onResponse</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">call 
                            </span><span class="s2">, </span><span class="s1">Response</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">response</span><span class="s2">) {</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">() + </span><span class="s4">&quot;&quot;</span><span class="s2">);</span><span class="s1"> 
                        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">() == </span><span class="s3">200</span><span class="s2">) {</span><span class="s1"> 
                            Log</span><span class="s2">.</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;TAG&quot;</span><span class="s2">, </span><span class="s4">&quot;onResponse: &quot; </span><span class="s2">+ </span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getMessage_id</span><span class="s2">());</span><span class="s1"> 
                            </span><span class="s0">if </span><span class="s2">((</span><span class="s1">bodyFile </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) || (</span><span class="s1">bodyAudio </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">)) {</span><span class="s1"> 
                                </span><span class="s0">if </span><span class="s2">((</span><span class="s1">bodyAudio </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) &amp;&amp; (</span><span class="s1">bodyFile </span><span class="s2">== </span><span class="s0">null</span><span class="s2">)) {</span><span class="s1"> 
                                    call </span><span class="s2">= </span><span class="s1">sendMsg</span><span class="s2">.</span><span class="s1">sentMessageFile</span><span class="s2">(</span><span class="s1">bodyAudio</span><span class="s2">, </span><span class="s1">String</span><span class="s2">.</span><span class="s1">valueOf</span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getMessage_id</span><span class="s2">()));</span><span class="s1"> 
                                </span><span class="s2">} </span><span class="s0">else if </span><span class="s2">((</span><span class="s1">bodyAudio </span><span class="s2">== </span><span class="s0">null</span><span class="s2">) &amp;&amp; (</span><span class="s1">bodyFile </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">)) {</span><span class="s1"> 
                                    call </span><span class="s2">= </span><span class="s1">sendMsg</span><span class="s2">.</span><span class="s1">sentMessageFile</span><span class="s2">(</span><span class="s1">bodyFile</span><span class="s2">, </span><span class="s1">String</span><span class="s2">.</span><span class="s1">valueOf</span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getMessage_id</span><span class="s2">()));</span><span class="s1"> 
                                </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                                    call </span><span class="s2">= </span><span class="s1">sendMsg</span><span class="s2">.</span><span class="s1">sentMessageFile</span><span class="s2">(</span><span class="s1">bodyAudio</span><span class="s2">, </span><span class="s1">bodyFile</span><span class="s2">, </span><span class="s1">String</span><span class="s2">.</span><span class="s1">valueOf</span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">body</span><span class="s2">().</span><span class="s1">getMessage_id</span><span class="s2">()));</span><span class="s1"> 
                                </span><span class="s2">}</span><span class="s1"> 
                                call</span><span class="s2">.</span><span class="s1">enqueue</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Callback</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt;() {</span><span class="s1"> 
                                    </span><span class="s0">public void </span><span class="s1">onFailure</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">call 
                                            </span><span class="s2">, </span><span class="s1">Throwable t</span><span class="s2">) {</span><span class="s1"> 
                                        Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                                        AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s1">t</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">(), </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                                        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">t</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">());</span><span class="s1"> 
                                        finish</span><span class="s2">();</span><span class="s1"> 
                                    </span><span class="s2">}</span><span class="s1"> 
 
                                    </span><span class="s0">public void </span><span class="s1">onResponse</span><span class="s2">(</span><span class="s1">Call</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">call 
                                            </span><span class="s2">, </span><span class="s1">Response</span><span class="s2">&lt;</span><span class="s1">Status</span><span class="s2">&gt; </span><span class="s1">response</span><span class="s2">) {</span><span class="s1"> 
                                        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">() == </span><span class="s3">200</span><span class="s2">) {</span><span class="s1"> 
                                            AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">note_send</span><span class="s2">), </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
 
                                        </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                                            AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">note_send</span><span class="s2">) + </span><span class="s4">&quot;file not send slow net&quot;</span><span class="s1"> 
                                                    </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                                        </span><span class="s2">}</span><span class="s1"> 
                                        Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                                        finish</span><span class="s2">();</span><span class="s1"> 
 
                                    </span><span class="s2">}</span><span class="s1"> 
 
                                </span><span class="s2">});</span><span class="s1"> 
 
                            </span><span class="s2">} </span><span class="s0">else</span><span class="s1"> 
                                AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">note_send</span><span class="s2">), </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                            Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                            Tag</span><span class="s2">.</span><span class="s1">setTagTotalMsg</span><span class="s2">(</span><span class="s1">tagId</span><span class="s2">, (</span><span class="s1">total </span><span class="s2">+ </span><span class="s3">1</span><span class="s2">));</span><span class="s1"> 
                            finish</span><span class="s2">();</span><span class="s1"> 
 
                        </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                            AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;Server Offline</span><span class="s3">\n</span><span class="s4">&quot; </span><span class="s2">+ </span><span class="s1">response</span><span class="s2">.</span><span class="s1">code</span><span class="s2">(), </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                        </span><span class="s2">}</span><span class="s1"> 
                        finish</span><span class="s2">();</span><span class="s1"> 
                        Progress</span><span class="s2">.</span><span class="s1">Cancel</span><span class="s2">();</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s2">});</span><span class="s1"> 
            </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                Bundle bnd </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Bundle</span><span class="s2">();</span><span class="s1"> 
                sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s4">&quot;created_at&quot;</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">getDateTimeNow</span><span class="s2">());</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">bodyAudioTemp </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
                    tempAudioPath </span><span class="s2">= </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">getFileTempName</span><span class="s2">();</span><span class="s1"> 
                    File from </span><span class="s2">= </span><span class="s0">new </span><span class="s1">File</span><span class="s2">(</span><span class="s1">fileAudioSource</span><span class="s2">);</span><span class="s1"> 
                    File to </span><span class="s2">= </span><span class="s0">new </span><span class="s1">File</span><span class="s2">(</span><span class="s1">tempAudioPath</span><span class="s2">);</span><span class="s1"> 
                    </span><span class="s0">if </span><span class="s2">(!</span><span class="s1">to</span><span class="s2">.</span><span class="s1">exists</span><span class="s2">()) {</span><span class="s1"> 
                        </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
                            to</span><span class="s2">.</span><span class="s1">createNewFile</span><span class="s2">();</span><span class="s1"> 
 
                            System</span><span class="s2">.</span><span class="s1">out</span><span class="s2">.</span><span class="s1">println</span><span class="s2">(</span><span class="s4">&quot;Destination file doesn't exist. Creating one!&quot;</span><span class="s2">);</span><span class="s1"> 
                        </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">IOException e</span><span class="s2">) {</span><span class="s1"> 
                            AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">());</span><span class="s1"> 
                        </span><span class="s2">}</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                    FileChannel source </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
                    FileChannel destination </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
                    </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
                        source </span><span class="s2">= </span><span class="s0">new </span><span class="s1">FileInputStream</span><span class="s2">(</span><span class="s1">from</span><span class="s2">).</span><span class="s1">getChannel</span><span class="s2">();</span><span class="s1"> 
                        destination </span><span class="s2">= </span><span class="s0">new </span><span class="s1">FileOutputStream</span><span class="s2">(</span><span class="s1">to</span><span class="s2">).</span><span class="s1">getChannel</span><span class="s2">();</span><span class="s1"> 
                        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">source </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
                            destination</span><span class="s2">.</span><span class="s1">transferFrom</span><span class="s2">(</span><span class="s1">source</span><span class="s2">, </span><span class="s3">0</span><span class="s2">, </span><span class="s1">source</span><span class="s2">.</span><span class="s1">size</span><span class="s2">());</span><span class="s1"> 
                        </span><span class="s2">}</span><span class="s1"> 
                    </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">IOException e</span><span class="s2">) {</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">());</span><span class="s1"> 
                    </span><span class="s2">} </span><span class="s0">finally </span><span class="s2">{</span><span class="s1"> 
                        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">source </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
                            </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
                                source</span><span class="s2">.</span><span class="s1">close</span><span class="s2">();</span><span class="s1"> 
                            </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">IOException e</span><span class="s2">) {</span><span class="s1"> 
                                e</span><span class="s2">.</span><span class="s1">printStackTrace</span><span class="s2">();</span><span class="s1"> 
                            </span><span class="s2">}</span><span class="s1"> 
                        </span><span class="s2">}</span><span class="s1"> 
                        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">destination </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
                            </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
                                destination</span><span class="s2">.</span><span class="s1">close</span><span class="s2">();</span><span class="s1"> 
                            </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">IOException e</span><span class="s2">) {</span><span class="s1"> 
                                e</span><span class="s2">.</span><span class="s1">printStackTrace</span><span class="s2">();</span><span class="s1"> 
                            </span><span class="s2">}</span><span class="s1"> 
                        </span><span class="s2">}</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s4">&quot;audioFile&quot;</span><span class="s2">, </span><span class="s1">tempAudioPath</span><span class="s2">);</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">bodyFileTemp </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">)</span><span class="s1"> 
                    sendArray</span><span class="s2">.</span><span class="s1">put</span><span class="s2">(</span><span class="s4">&quot;otherFile&quot;</span><span class="s2">, </span><span class="s1">tempFilePath</span><span class="s2">);</span><span class="s1"> 
                bnd</span><span class="s2">.</span><span class="s1">putSerializable</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">EXTRA_ARRAY</span><span class="s2">), </span><span class="s1">sendArray</span><span class="s2">);</span><span class="s1"> 
                Intent i </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Intent</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">OfflineNotePostService</span><span class="s2">.</span><span class="s0">class</span><span class="s2">);</span><span class="s1"> 
                AppLog</span><span class="s2">.</span><span class="s1">toastShortString</span><span class="s2">(</span><span class="s4">&quot;When Net Available Note will be posted&quot;</span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                i</span><span class="s2">.</span><span class="s1">putExtra</span><span class="s2">(</span><span class="s4">&quot;bnd&quot;</span><span class="s2">, </span><span class="s1">bnd</span><span class="s2">);</span><span class="s1"> 
                setNoteOffline</span><span class="s2">();</span><span class="s1"> 
                startService</span><span class="s2">(</span><span class="s1">i</span><span class="s2">);</span><span class="s1"> 
                finish</span><span class="s2">();</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
            AppLog</span><span class="s2">.</span><span class="s1">toastShortString</span><span class="s2">(</span><span class="s4">&quot;Msg Field Empty&quot;</span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
            holder</span><span class="s2">.</span><span class="s1">getEditTextContentMessage</span><span class="s2">().</span><span class="s1">setError</span><span class="s2">(</span><span class="s4">&quot;Msg Required&quot;</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
        AppLog</span><span class="s2">.</span><span class="s1">setVibrate</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INTENSITY_LOW</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">private void </span><span class="s1">setNoteOffline</span><span class="s2">() {</span><span class="s1"> 
        Message msg </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Message</span><span class="s2">();</span><span class="s1"> 
        msg</span><span class="s2">.</span><span class="s1">setMsgId</span><span class="s2">(</span><span class="s3">0</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">casePublic </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">)</span><span class="s1"> 
            msg</span><span class="s2">.</span><span class="s1">setMpublic</span><span class="s2">(</span><span class="s1">Integer</span><span class="s2">.</span><span class="s1">parseInt</span><span class="s2">(</span><span class="s1">casePublic</span><span class="s2">));</span><span class="s1"> 
        </span><span class="s0">else </span><span class="s1">msg</span><span class="s2">.</span><span class="s1">setMpublic</span><span class="s2">(</span><span class="s3">1</span><span class="s2">);</span><span class="s1"> 
        msg</span><span class="s2">.</span><span class="s1">setTimeout</span><span class="s2">(</span><span class="s1">timeOutTemp</span><span class="s2">);</span><span class="s1"> 
        msg</span><span class="s2">.</span><span class="s1">setCreated_at</span><span class="s2">(</span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">getDateTimeNow</span><span class="s2">());</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">caseTypeTemp </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">)</span><span class="s1"> 
            msg</span><span class="s2">.</span><span class="s1">setCase_type</span><span class="s2">(</span><span class="s1">Integer</span><span class="s2">.</span><span class="s1">parseInt</span><span class="s2">(</span><span class="s1">caseTypeTemp</span><span class="s2">));</span><span class="s1"> 
        </span><span class="s0">else </span><span class="s1">msg</span><span class="s2">.</span><span class="s1">setCase_type</span><span class="s2">(</span><span class="s3">1</span><span class="s2">);</span><span class="s1"> 
        msg</span><span class="s2">.</span><span class="s1">setType</span><span class="s2">(</span><span class="s4">&quot;text&quot;</span><span class="s2">);</span><span class="s1"> 
        msg</span><span class="s2">.</span><span class="s1">setTag_id</span><span class="s2">(</span><span class="s1">tagId</span><span class="s2">);</span><span class="s1"> 
        msg</span><span class="s2">.</span><span class="s1">setContent</span><span class="s2">(</span><span class="s1">holder</span><span class="s2">.</span><span class="s1">getEditTextContentMessage</span><span class="s2">().</span><span class="s1">getText</span><span class="s2">().</span><span class="s1">toString</span><span class="s2">());</span><span class="s1"> 
        msg</span><span class="s2">.</span><span class="s1">setUser_id</span><span class="s2">(</span><span class="s1">Integer</span><span class="s2">.</span><span class="s1">parseInt</span><span class="s2">(</span><span class="s1">OBSession</span><span class="s2">.</span><span class="s1">getPreference</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">id_key</span><span class="s2">)</span><span class="s1"> 
                </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">())));</span><span class="s1"> 
        msg</span><span class="s2">.</span><span class="s1">save</span><span class="s2">();</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">public void </span><span class="s1">setAttachFile</span><span class="s2">(</span><span class="s0">final </span><span class="s1">View view</span><span class="s2">) {</span><span class="s1"> 
        </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
            DialogProperties properties </span><span class="s2">= </span><span class="s0">new </span><span class="s1">DialogProperties</span><span class="s2">();</span><span class="s1"> 
            properties</span><span class="s2">.</span><span class="s1">selection_mode </span><span class="s2">= </span><span class="s1">DialogConfigs</span><span class="s2">.</span><span class="s1">SINGLE_MODE</span><span class="s2">;</span><span class="s1"> 
            properties</span><span class="s2">.</span><span class="s1">selection_type </span><span class="s2">= </span><span class="s1">DialogConfigs</span><span class="s2">.</span><span class="s1">FILE_SELECT</span><span class="s2">;</span><span class="s1"> 
            properties</span><span class="s2">.</span><span class="s1">root </span><span class="s2">= </span><span class="s0">new </span><span class="s1">File</span><span class="s2">(</span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">PATH_FILE</span><span class="s2">);</span><span class="s1"> 
            properties</span><span class="s2">.</span><span class="s1">error_dir </span><span class="s2">= </span><span class="s0">new </span><span class="s1">File</span><span class="s2">(</span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">PATH_FILE</span><span class="s2">);</span><span class="s1"> 
            properties</span><span class="s2">.</span><span class="s1">offset </span><span class="s2">= </span><span class="s0">new </span><span class="s1">File</span><span class="s2">(</span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">PATH_FILE</span><span class="s2">);</span><span class="s1"> 
            properties</span><span class="s2">.</span><span class="s1">extensions </span><span class="s2">= </span><span class="s0">new </span><span class="s1">String</span><span class="s2">[]{</span><span class="s4">&quot;.doc&quot;</span><span class="s2">, </span><span class="s4">&quot;.docx&quot;</span><span class="s2">, </span><span class="s4">&quot;.pdf&quot;</span><span class="s2">, </span><span class="s4">&quot;.jpg&quot;</span><span class="s2">, </span><span class="s4">&quot;.png&quot;</span><span class="s2">, </span><span class="s4">&quot;.aspx&quot;</span><span class="s1"> 
                    </span><span class="s2">, </span><span class="s4">&quot;.jpeg&quot;</span><span class="s2">, </span><span class="s4">&quot;.mp3&quot;</span><span class="s2">, </span><span class="s4">&quot;.mp4&quot;</span><span class="s2">, </span><span class="s4">&quot;.bmp&quot;</span><span class="s2">, </span><span class="s4">&quot;.gif&quot;</span><span class="s2">, </span><span class="s4">&quot;.xls&quot;</span><span class="s2">, </span><span class="s4">&quot;.xlsx&quot;</span><span class="s2">, </span><span class="s4">&quot;.ppt&quot;</span><span class="s2">, </span><span class="s4">&quot;.pptx&quot;</span><span class="s2">};</span><span class="s1"> 
            FilePickerDialog views </span><span class="s2">= </span><span class="s0">new </span><span class="s1">FilePickerDialog</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s1">properties</span><span class="s2">);</span><span class="s1"> 
            views</span><span class="s2">.</span><span class="s1">setTitle</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">select_file</span><span class="s2">));</span><span class="s1"> 
            views</span><span class="s2">.</span><span class="s1">setDialogSelectionListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">DialogSelectionListener</span><span class="s2">() {</span><span class="s1"> 
                </span><span class="s0">public void </span><span class="s1">onSelectedFilePaths</span><span class="s2">(</span><span class="s1">String</span><span class="s2">[] </span><span class="s1">arrayOfString</span><span class="s2">) {</span><span class="s1"> 
                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">arrayOfString</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&gt; </span><span class="s3">0</span><span class="s2">) {</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s4">&quot;onSelectedFilePaths: &quot; </span><span class="s2">+ </span><span class="s1">Arrays</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">(</span><span class="s1">arrayOfString</span><span class="s2">));</span><span class="s1"> 
                        File file </span><span class="s2">= </span><span class="s0">new </span><span class="s1">File</span><span class="s2">(</span><span class="s1">arrayOfString</span><span class="s2">[</span><span class="s3">0</span><span class="s2">]);</span><span class="s1"> 
                        </span><span class="s0">long </span><span class="s1">fileSizeInBytes </span><span class="s2">= </span><span class="s1">file</span><span class="s2">.</span><span class="s1">length</span><span class="s2">();</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">fileSizeInBytes </span><span class="s2">+ </span><span class="s4">&quot;&quot;</span><span class="s2">);</span><span class="s1"> 
                        </span><span class="s5">// Convert the bytes to Kilobytes (1 KB = 1024 Bytes)</span><span class="s1"> 
                        </span><span class="s0">long </span><span class="s1">fileSizeInKB </span><span class="s2">= </span><span class="s1">fileSizeInBytes </span><span class="s2">/ </span><span class="s3">1024</span><span class="s2">;</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">fileSizeInKB </span><span class="s2">+ </span><span class="s4">&quot;&quot;</span><span class="s2">);</span><span class="s1"> 
                        </span><span class="s5">// Convert the KB to MegaBytes (1 MB = 1024 KBytes)</span><span class="s1"> 
                        </span><span class="s0">long </span><span class="s1">fileSizeInMB </span><span class="s2">= </span><span class="s1">fileSizeInKB </span><span class="s2">/ </span><span class="s3">1024</span><span class="s2">;</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">fileSizeInMB </span><span class="s2">+ </span><span class="s4">&quot;&quot;</span><span class="s2">);</span><span class="s1"> 
                        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">fileSizeInMB </span><span class="s2">&lt;= </span><span class="s3">2</span><span class="s2">) {</span><span class="s1"> 
                            tempFilePath </span><span class="s2">= </span><span class="s1">file</span><span class="s2">.</span><span class="s1">getAbsolutePath</span><span class="s2">();</span><span class="s1"> 
                            RequestBody requestBody </span><span class="s2">= </span><span class="s1">RequestBody 
                                    </span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s1">MediaType</span><span class="s2">.</span><span class="s1">parse</span><span class="s2">(</span><span class="s4">&quot;multipart/form-data&quot;</span><span class="s2">), </span><span class="s1">file</span><span class="s2">);</span><span class="s1"> 
                            bodyFileTemp </span><span class="s2">= </span><span class="s1">MultipartBody</span><span class="s2">.</span><span class="s1">Part</span><span class="s2">.</span><span class="s1">createFormData</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">data_key</span><span class="s2">)</span><span class="s1"> 
                                    </span><span class="s2">, </span><span class="s1">file</span><span class="s2">.</span><span class="s1">getName</span><span class="s2">()</span><span class="s1"> 
                                    </span><span class="s2">, </span><span class="s1">requestBody</span><span class="s2">);</span><span class="s1"> 
                            holder</span><span class="s2">.</span><span class="s1">getAttachFileCheck</span><span class="s2">().</span><span class="s1">setChecked</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span><span class="s1"> 
                            holder</span><span class="s2">.</span><span class="s1">getAttachFileCheck</span><span class="s2">().</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">View</span><span class="s2">.</span><span class="s1">VISIBLE</span><span class="s2">);</span><span class="s1"> 
                        </span><span class="s2">} </span><span class="s0">else </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;File size is exceed only 2MB is applicable&quot;</span><span class="s1"> 
                                </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                    </span><span class="s2">} </span><span class="s0">else </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;No File Selected&quot;</span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                    AppLog</span><span class="s2">.</span><span class="s1">setVibrate</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INTENSITY_LOW</span><span class="s2">);</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
            </span><span class="s2">});</span><span class="s1"> 
            views</span><span class="s2">.</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">RuntimeException e</span><span class="s2">) {</span><span class="s1"> 
            AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">());</span><span class="s1"> 
            AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">(), </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
        AppLog</span><span class="s2">.</span><span class="s1">setVibrate</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INTENSITY_LOW</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">public void </span><span class="s1">setTimeOut</span><span class="s2">(</span><span class="s0">final </span><span class="s1">View view</span><span class="s2">) {</span><span class="s1"> 
        Calendar paramView </span><span class="s2">= </span><span class="s1">Calendar</span><span class="s2">.</span><span class="s1">getInstance</span><span class="s2">(</span><span class="s1">Locale</span><span class="s2">.</span><span class="s1">getDefault</span><span class="s2">());</span><span class="s1"> 
        paramView</span><span class="s2">.</span><span class="s1">set</span><span class="s2">(</span><span class="s1">paramView</span><span class="s2">.</span><span class="s1">get</span><span class="s2">(</span><span class="s1">Calendar</span><span class="s2">.</span><span class="s1">YEAR</span><span class="s2">)</span><span class="s1"> 
                </span><span class="s2">, </span><span class="s1">paramView</span><span class="s2">.</span><span class="s1">get</span><span class="s2">(</span><span class="s1">Calendar</span><span class="s2">.</span><span class="s1">MONTH</span><span class="s2">)</span><span class="s1"> 
                </span><span class="s2">, </span><span class="s1">paramView</span><span class="s2">.</span><span class="s1">get</span><span class="s2">(</span><span class="s1">Calendar</span><span class="s2">.</span><span class="s1">DATE</span><span class="s2">));</span><span class="s1"> 
        Date localDate </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Date</span><span class="s2">();</span><span class="s1"> 
        DatePickerFragmentDialog</span><span class="s2">.</span><span class="s1">newInstance</span><span class="s2">(</span><span class="s1"> 
                DateTimeBuilder</span><span class="s2">.</span><span class="s1">get</span><span class="s2">()</span><span class="s1"> 
                        </span><span class="s2">.</span><span class="s1">withTime</span><span class="s2">(</span><span class="s0">true</span><span class="s2">)</span><span class="s1"> 
                        </span><span class="s2">.</span><span class="s1">with24Hours</span><span class="s2">(</span><span class="s0">true</span><span class="s2">)</span><span class="s1"> 
                        </span><span class="s2">.</span><span class="s1">withSelectedDate</span><span class="s2">(</span><span class="s1">paramView</span><span class="s2">.</span><span class="s1">getTime</span><span class="s2">().</span><span class="s1">getTime</span><span class="s2">())</span><span class="s1"> 
                        </span><span class="s2">.</span><span class="s1">withMinDate</span><span class="s2">(</span><span class="s1">paramView</span><span class="s2">.</span><span class="s1">getTimeInMillis</span><span class="s2">())</span><span class="s1"> 
                        </span><span class="s2">.</span><span class="s1">withCurrentHour</span><span class="s2">(</span><span class="s1">localDate</span><span class="s2">.</span><span class="s1">getHours</span><span class="s2">())</span><span class="s1"> 
                        </span><span class="s2">.</span><span class="s1">withCurrentMinute</span><span class="s2">(</span><span class="s1">localDate</span><span class="s2">.</span><span class="s1">getMinutes</span><span class="s2">()))</span><span class="s1"> 
                </span><span class="s2">.</span><span class="s1">show</span><span class="s2">(</span><span class="s1">getSupportFragmentManager</span><span class="s2">(), </span><span class="s4">&quot;DatePickerFragmentDialog&quot;</span><span class="s2">);</span><span class="s1"> 
        AppLog</span><span class="s2">.</span><span class="s1">setVibrate</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s1">AppLog</span><span class="s2">.</span><span class="s1">INTENSITY_LOW</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">void </span><span class="s1">setUi</span><span class="s2">() {</span><span class="s1"> 
        tagId </span><span class="s2">= </span><span class="s1">getIntent</span><span class="s2">().</span><span class="s1">getIntExtra</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">tag_id_key</span><span class="s2">), </span><span class="s3">0</span><span class="s2">);</span><span class="s1"> 
        total </span><span class="s2">= </span><span class="s1">getIntent</span><span class="s2">().</span><span class="s1">getIntExtra</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">total_msg</span><span class="s2">), </span><span class="s3">0</span><span class="s2">);</span><span class="s1"> 
        holder</span><span class="s2">.</span><span class="s1">getBtnCancelButton</span><span class="s2">().</span><span class="s1">setOnClickListener</span><span class="s2">(</span><span class="s0">this</span><span class="s2">);</span><span class="s1"> 
</span><span class="s5">//        holder.getBtnAudioSource().setOnTouchListener(this);</span><span class="s1"> 
        holder</span><span class="s2">.</span><span class="s1">getBtnPlayAudio</span><span class="s2">().</span><span class="s1">setOnTouchListener</span><span class="s2">(</span><span class="s0">this</span><span class="s2">);</span><span class="s1"> 
        holder</span><span class="s2">.</span><span class="s1">getTextAddPermission</span><span class="s2">().</span><span class="s1">setOnClickListener</span><span class="s2">(</span><span class="s0">this</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">getIntent</span><span class="s2">().</span><span class="s1">getStringExtra</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">activity_key</span><span class="s2">)) != </span><span class="s0">null</span><span class="s2">)</span><span class="s1"> 
            </span><span class="s0">if </span><span class="s2">(</span><span class="s1">getIntent</span><span class="s2">().</span><span class="s1">getStringExtra</span><span class="s2">(</span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">activity_key</span><span class="s2">)).</span><span class="s1">equals</span><span class="s2">(</span><span class="s1">S_NAME</span><span class="s2">))</span><span class="s1"> 
                holder</span><span class="s2">.</span><span class="s1">getTextAddPermission</span><span class="s2">().</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">android</span><span class="s2">.</span><span class="s1">view</span><span class="s2">.</span><span class="s1">View</span><span class="s2">.</span><span class="s1">GONE</span><span class="s2">);</span><span class="s1"> 
        nav</span><span class="s2">(</span><span class="s0">false</span><span class="s2">, </span><span class="s1">getString</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">string</span><span class="s2">.</span><span class="s1">message_activity</span><span class="s2">));</span><span class="s1"> 
        mHoldingButtonLayout </span><span class="s2">= (</span><span class="s1">HoldingButtonLayout</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">input_holder</span><span class="s2">);</span><span class="s1"> 
        mHoldingButtonLayout</span><span class="s2">.</span><span class="s1">addListener</span><span class="s2">(</span><span class="s0">this</span><span class="s2">);</span><span class="s1"> 
 
        mTime </span><span class="s2">= (</span><span class="s1">TextView</span><span class="s2">) </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">time</span><span class="s2">);</span><span class="s1"> 
</span><span class="s5">//        mInput = (EditText) findViewById(R.id.input);</span><span class="s1"> 
        mSlideToCancel </span><span class="s2">= </span><span class="s1">findViewById</span><span class="s2">(</span><span class="s1">R</span><span class="s2">.</span><span class="s1">id</span><span class="s2">.</span><span class="s1">slide_to_cancel</span><span class="s2">);</span><span class="s1"> 
 
        mAnimationDuration </span><span class="s2">= </span><span class="s1">getResources</span><span class="s2">().</span><span class="s1">getInteger</span><span class="s2">(</span><span class="s1">android</span><span class="s2">.</span><span class="s1">R</span><span class="s2">.</span><span class="s1">integer</span><span class="s2">.</span><span class="s1">config_shortAnimTime</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    @Override 
    </span><span class="s0">public void </span><span class="s1">onBeforeExpand</span><span class="s2">() {</span><span class="s1"> 
        cancelAllAnimations</span><span class="s2">();</span><span class="s1"> 
 
        mSlideToCancel</span><span class="s2">.</span><span class="s1">setTranslationX</span><span class="s2">(</span><span class="s3">0f</span><span class="s2">);</span><span class="s1"> 
        mSlideToCancel</span><span class="s2">.</span><span class="s1">setAlpha</span><span class="s2">(</span><span class="s3">0f</span><span class="s2">);</span><span class="s1"> 
        mSlideToCancel</span><span class="s2">.</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">View</span><span class="s2">.</span><span class="s1">VISIBLE</span><span class="s2">);</span><span class="s1"> 
        mSlideToCancelAnimator </span><span class="s2">= </span><span class="s1">mSlideToCancel</span><span class="s2">.</span><span class="s1">animate</span><span class="s2">().</span><span class="s1">alpha</span><span class="s2">(</span><span class="s3">1f</span><span class="s2">).</span><span class="s1">setDuration</span><span class="s2">(</span><span class="s1">mAnimationDuration</span><span class="s2">);</span><span class="s1"> 
        mSlideToCancelAnimator</span><span class="s2">.</span><span class="s1">start</span><span class="s2">();</span><span class="s1"> 
 
</span><span class="s5">//        mInputAnimator = mInput.animate().alpha(0f).setDuration(mAnimationDuration);</span><span class="s1"> 
</span><span class="s5">//        mInputAnimator.setListener(new AnimatorListenerAdapter() {</span><span class="s1"> 
</span><span class="s5">//            @Override</span><span class="s1"> 
</span><span class="s5">//            public void onAnimationEnd(Animator animation) {</span><span class="s1"> 
</span><span class="s5">//                mInput.setVisibility(View.INVISIBLE);</span><span class="s1"> 
</span><span class="s5">//                mInputAnimator.setListener(null);</span><span class="s1"> 
</span><span class="s5">//            }</span><span class="s1"> 
</span><span class="s5">//        });</span><span class="s1"> 
</span><span class="s5">//        mInputAnimator.start();</span><span class="s1"> 
 
        mTime</span><span class="s2">.</span><span class="s1">setTranslationY</span><span class="s2">(</span><span class="s1">mTime</span><span class="s2">.</span><span class="s1">getHeight</span><span class="s2">());</span><span class="s1"> 
        mTime</span><span class="s2">.</span><span class="s1">setAlpha</span><span class="s2">(</span><span class="s3">0f</span><span class="s2">);</span><span class="s1"> 
        mTime</span><span class="s2">.</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">View</span><span class="s2">.</span><span class="s1">VISIBLE</span><span class="s2">);</span><span class="s1"> 
        mTimeAnimator </span><span class="s2">= </span><span class="s1">mTime</span><span class="s2">.</span><span class="s1">animate</span><span class="s2">().</span><span class="s1">translationY</span><span class="s2">(</span><span class="s3">0f</span><span class="s2">).</span><span class="s1">alpha</span><span class="s2">(</span><span class="s3">1f</span><span class="s2">).</span><span class="s1">setDuration</span><span class="s2">(</span><span class="s1">mAnimationDuration</span><span class="s2">);</span><span class="s1"> 
        mTimeAnimator</span><span class="s2">.</span><span class="s1">start</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
            startRecording</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">IllegalStateException e</span><span class="s2">) {</span><span class="s1"> 
            AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;Please Hold more then a Second to record&quot;</span><span class="s1"> 
                    </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
</span><span class="s5">//                    AppLog.logString(e.getMessage());</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">RuntimeException e1</span><span class="s2">) {</span><span class="s1"> 
            AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;Please Hold more then a Second to record&quot;</span><span class="s1"> 
                    </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
</span><span class="s5">//                    AppLog.logString(e1.getMessage());</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    @Override 
    </span><span class="s0">public void </span><span class="s1">onExpand</span><span class="s2">() {</span><span class="s1"> 
        mStartTime </span><span class="s2">= </span><span class="s1">System</span><span class="s2">.</span><span class="s1">currentTimeMillis</span><span class="s2">();</span><span class="s1"> 
        invalidateTimer</span><span class="s2">();</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    @Override 
    </span><span class="s0">public void </span><span class="s1">onBeforeCollapse</span><span class="s2">() {</span><span class="s1"> 
        cancelAllAnimations</span><span class="s2">();</span><span class="s1"> 
 
        mSlideToCancelAnimator </span><span class="s2">= </span><span class="s1">mSlideToCancel</span><span class="s2">.</span><span class="s1">animate</span><span class="s2">().</span><span class="s1">alpha</span><span class="s2">(</span><span class="s3">0f</span><span class="s2">).</span><span class="s1">setDuration</span><span class="s2">(</span><span class="s1">mAnimationDuration</span><span class="s2">);</span><span class="s1"> 
        mSlideToCancelAnimator</span><span class="s2">.</span><span class="s1">setListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">android</span><span class="s2">.</span><span class="s1">animation</span><span class="s2">.</span><span class="s1">AnimatorListenerAdapter</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onAnimationEnd</span><span class="s2">(</span><span class="s1">android</span><span class="s2">.</span><span class="s1">animation</span><span class="s2">.</span><span class="s1">Animator animation</span><span class="s2">) {</span><span class="s1"> 
                mSlideToCancel</span><span class="s2">.</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">View</span><span class="s2">.</span><span class="s1">INVISIBLE</span><span class="s2">);</span><span class="s1"> 
                mSlideToCancelAnimator</span><span class="s2">.</span><span class="s1">setListener</span><span class="s2">(</span><span class="s0">null</span><span class="s2">);</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
        mSlideToCancelAnimator</span><span class="s2">.</span><span class="s1">start</span><span class="s2">();</span><span class="s1"> 
 
</span><span class="s5">//        mInput.setAlpha(0f);</span><span class="s1"> 
</span><span class="s5">//        mInput.setVisibility(View.VISIBLE);</span><span class="s1"> 
</span><span class="s5">//        mInputAnimator = mInput.animate().alpha(1f).setDuration(mAnimationDuration);</span><span class="s1"> 
</span><span class="s5">//        mInputAnimator.start();</span><span class="s1"> 
 
        mTimeAnimator </span><span class="s2">= </span><span class="s1">mTime</span><span class="s2">.</span><span class="s1">animate</span><span class="s2">().</span><span class="s1">translationY</span><span class="s2">(</span><span class="s1">mTime</span><span class="s2">.</span><span class="s1">getHeight</span><span class="s2">()).</span><span class="s1">alpha</span><span class="s2">(</span><span class="s3">0f</span><span class="s2">).</span><span class="s1">setDuration</span><span class="s2">(</span><span class="s1">mAnimationDuration</span><span class="s2">);</span><span class="s1"> 
        mTimeAnimator</span><span class="s2">.</span><span class="s1">setListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">android</span><span class="s2">.</span><span class="s1">animation</span><span class="s2">.</span><span class="s1">AnimatorListenerAdapter</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">onAnimationEnd</span><span class="s2">(</span><span class="s1">android</span><span class="s2">.</span><span class="s1">animation</span><span class="s2">.</span><span class="s1">Animator animation</span><span class="s2">) {</span><span class="s1"> 
                mTime</span><span class="s2">.</span><span class="s1">setVisibility</span><span class="s2">(</span><span class="s1">View</span><span class="s2">.</span><span class="s1">INVISIBLE</span><span class="s2">);</span><span class="s1"> 
                mTimeAnimator</span><span class="s2">.</span><span class="s1">setListener</span><span class="s2">(</span><span class="s0">null</span><span class="s2">);</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">});</span><span class="s1"> 
        mTimeAnimator</span><span class="s2">.</span><span class="s1">start</span><span class="s2">();</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    @Override 
    </span><span class="s0">public void </span><span class="s1">onCollapse</span><span class="s2">(</span><span class="s0">boolean </span><span class="s1">isCancel</span><span class="s2">) {</span><span class="s1"> 
        stopTimer</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">isCancel</span><span class="s2">) {</span><span class="s1"> 
            </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
                </span><span class="s0">if </span><span class="s2">(</span><span class="s1">recorder </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
                    AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s4">&quot;testingMove&quot;</span><span class="s2">);</span><span class="s1"> 
                    recorder</span><span class="s2">.</span><span class="s1">stop</span><span class="s2">();</span><span class="s1"> 
                    recorder</span><span class="s2">.</span><span class="s1">reset</span><span class="s2">();</span><span class="s1"> 
                    recorder</span><span class="s2">.</span><span class="s1">release</span><span class="s2">();</span><span class="s1"> 
                    recorder </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
                    AppLog</span><span class="s2">.</span><span class="s1">toastShortString</span><span class="s2">(</span><span class="s4">&quot;Audio Cancel&quot;</span><span class="s1"> 
                            </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
            </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">IllegalStateException e</span><span class="s2">) {</span><span class="s1"> 
                AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;Please Hold more then a Second to record&quot;</span><span class="s1"> 
                        </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
            </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">RuntimeException e1</span><span class="s2">) {</span><span class="s1"> 
                AppLog</span><span class="s2">.</span><span class="s1">toastString</span><span class="s2">(</span><span class="s4">&quot;Please Hold more then a Second to record&quot;</span><span class="s1"> 
                        </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
            Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s4">&quot;Action canceled! Time &quot; </span><span class="s2">+ </span><span class="s1">getFormattedTime</span><span class="s2">(), </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
            </span><span class="s0">if </span><span class="s2">(</span><span class="s1">mFormatter</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Date</span><span class="s2">(</span><span class="s1">System</span><span class="s2">.</span><span class="s1">currentTimeMillis</span><span class="s2">() - </span><span class="s1">mStartTime</span><span class="s2">)).</span><span class="s1">compareToIgnoreCase</span><span class="s2">(</span><span class="s1"> 
                    mFormatter</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Date</span><span class="s2">(</span><span class="s1">mSecond</span><span class="s2">))</span><span class="s1"> 
            </span><span class="s2">) &gt; </span><span class="s3">0</span><span class="s2">) {</span><span class="s1"> 
                </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
                    stopRecording</span><span class="s2">();</span><span class="s1"> 
                </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">IllegalStateException e</span><span class="s2">) {</span><span class="s1"> 
                    AppLog</span><span class="s2">.</span><span class="s1">toastShortString</span><span class="s2">(</span><span class="s4">&quot;Please Hold more then a Second to record&quot;</span><span class="s1"> 
                            </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">RuntimeException e1</span><span class="s2">) {</span><span class="s1"> 
                    AppLog</span><span class="s2">.</span><span class="s1">toastShortString</span><span class="s2">(</span><span class="s4">&quot;Please Hold more then a Second to record&quot;</span><span class="s1"> 
                            </span><span class="s2">, </span><span class="s1">getApplicationContext</span><span class="s2">());</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
                Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s4">&quot;Action submitted! Time &quot; </span><span class="s2">+ </span><span class="s1">getFormattedTime</span><span class="s2">(), </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
            </span><span class="s2">} </span><span class="s0">else </span><span class="s2">{</span><span class="s1"> 
                Toast</span><span class="s2">.</span><span class="s1">makeText</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s4">&quot;Please Hold More then a Second&quot;</span><span class="s2">, </span><span class="s1">Toast</span><span class="s2">.</span><span class="s1">LENGTH_SHORT</span><span class="s2">).</span><span class="s1">show</span><span class="s2">();</span><span class="s1"> 
                </span><span class="s0">try </span><span class="s2">{</span><span class="s1"> 
                    </span><span class="s0">if </span><span class="s2">(</span><span class="s1">recorder </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
                        AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s4">&quot;testingMove&quot;</span><span class="s2">);</span><span class="s1"> 
                        recorder</span><span class="s2">.</span><span class="s1">stop</span><span class="s2">();</span><span class="s1"> 
                        recorder</span><span class="s2">.</span><span class="s1">reset</span><span class="s2">();</span><span class="s1"> 
                        recorder</span><span class="s2">.</span><span class="s1">release</span><span class="s2">();</span><span class="s1"> 
                        recorder </span><span class="s2">= </span><span class="s0">null</span><span class="s2">;</span><span class="s1"> 
                    </span><span class="s2">}</span><span class="s1"> 
                </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">IllegalStateException e</span><span class="s2">) {</span><span class="s1"> 
                    AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s4">&quot;Please Hold more then a Second to record&quot;</span><span class="s1"> 
                    </span><span class="s2">);</span><span class="s1"> 
                </span><span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">RuntimeException e1</span><span class="s2">) {</span><span class="s1"> 
                    AppLog</span><span class="s2">.</span><span class="s1">logString</span><span class="s2">(</span><span class="s4">&quot;Please Hold more then a Second to record&quot;</span><span class="s1"> 
                    </span><span class="s2">);</span><span class="s1"> 
                </span><span class="s2">}</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
        mStartTime </span><span class="s2">= </span><span class="s3">0</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    @Override 
    </span><span class="s0">public void </span><span class="s1">onOffsetChanged</span><span class="s2">(</span><span class="s0">float </span><span class="s1">offset</span><span class="s2">, </span><span class="s0">boolean </span><span class="s1">isCancel</span><span class="s2">) {</span><span class="s1"> 
        mSlideToCancel</span><span class="s2">.</span><span class="s1">setTranslationX</span><span class="s2">(-</span><span class="s1">mHoldingButtonLayout</span><span class="s2">.</span><span class="s1">getWidth</span><span class="s2">() * </span><span class="s1">offset</span><span class="s2">);</span><span class="s1"> 
        mSlideToCancel</span><span class="s2">.</span><span class="s1">setAlpha</span><span class="s2">(</span><span class="s3">1 </span><span class="s2">- </span><span class="s1">SLIDE_TO_CANCEL_ALPHA_MULTIPLIER </span><span class="s2">* </span><span class="s1">offset</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">private void </span><span class="s1">invalidateTimer</span><span class="s2">() {</span><span class="s1"> 
        mTimerRunnable </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Runnable</span><span class="s2">() {</span><span class="s1"> 
            @Override 
            </span><span class="s0">public void </span><span class="s1">run</span><span class="s2">() {</span><span class="s1"> 
                mTime</span><span class="s2">.</span><span class="s1">setText</span><span class="s2">(</span><span class="s1">getFormattedTime</span><span class="s2">());</span><span class="s1"> 
                invalidateTimer</span><span class="s2">();</span><span class="s1"> 
            </span><span class="s2">}</span><span class="s1"> 
        </span><span class="s2">};</span><span class="s1"> 
 
        mTime</span><span class="s2">.</span><span class="s1">postDelayed</span><span class="s2">(</span><span class="s1">mTimerRunnable</span><span class="s2">, </span><span class="s1">TIME_INVALIDATION_FREQUENCY</span><span class="s2">);</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">private void </span><span class="s1">stopTimer</span><span class="s2">() {</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">mTimerRunnable </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
            mTime</span><span class="s2">.</span><span class="s1">getHandler</span><span class="s2">().</span><span class="s1">removeCallbacks</span><span class="s2">(</span><span class="s1">mTimerRunnable</span><span class="s2">);</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">private void </span><span class="s1">cancelAllAnimations</span><span class="s2">() {</span><span class="s1"> 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">mInputAnimator </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
            mInputAnimator</span><span class="s2">.</span><span class="s1">cancel</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">mSlideToCancelAnimator </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
            mSlideToCancelAnimator</span><span class="s2">.</span><span class="s1">cancel</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
 
        </span><span class="s0">if </span><span class="s2">(</span><span class="s1">mTimeAnimator </span><span class="s2">!= </span><span class="s0">null</span><span class="s2">) {</span><span class="s1"> 
            mTimeAnimator</span><span class="s2">.</span><span class="s1">cancel</span><span class="s2">();</span><span class="s1"> 
        </span><span class="s2">}</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
 <hr class="ls0">    </span><span class="s0">private </span><span class="s1">String getFormattedTime</span><span class="s2">() {</span><span class="s1"> 
        </span><span class="s0">return </span><span class="s1">mFormatter</span><span class="s2">.</span><span class="s1">format</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Date</span><span class="s2">(</span><span class="s1">System</span><span class="s2">.</span><span class="s1">currentTimeMillis</span><span class="s2">() - </span><span class="s1">mStartTime</span><span class="s2">));</span><span class="s1"> 
    </span><span class="s2">}</span><span class="s1"> 
</span><span class="s2">}</span></pre>
</body>
</html>